<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.6">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Lukas Reinhardt">

<title>Die Entwicklung der Songtextkomplexität: Eine Analyse</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<script type="text/javascript">
window.PlotlyConfig = {MathJaxConfig: 'local'};
if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
if (typeof require !== 'undefined') {
require.undef("plotly");
requirejs.config({
    paths: {
        'plotly': ['https://cdn.plot.ly/plotly-2.35.0.min']
    }
});
require(['plotly'], function(Plotly) {
    window._Plotly = Plotly;
});
}
</script>


  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="style.css">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#einleitung" id="toc-einleitung" class="nav-link active" data-scroll-target="#einleitung">Einleitung</a>
  <ul class="collapse">
  <li><a href="#problemstellung" id="toc-problemstellung" class="nav-link" data-scroll-target="#problemstellung">Problemstellung</a></li>
  <li><a href="#ziele-der-arbeit" id="toc-ziele-der-arbeit" class="nav-link" data-scroll-target="#ziele-der-arbeit">Ziele der Arbeit</a></li>
  <li><a href="#aufbau-der-arbeit" id="toc-aufbau-der-arbeit" class="nav-link" data-scroll-target="#aufbau-der-arbeit">Aufbau der Arbeit</a></li>
  </ul></li>
  <li><a href="#verwandte-arbeit" id="toc-verwandte-arbeit" class="nav-link" data-scroll-target="#verwandte-arbeit">Verwandte Arbeit</a>
  <ul class="collapse">
  <li><a href="#varnum-et-al.-2021---why-are-song-lyrics-becoming-simplersonglyrics" id="toc-varnum-et-al.-2021---why-are-song-lyrics-becoming-simplersonglyrics" class="nav-link" data-scroll-target="#varnum-et-al.-2021---why-are-song-lyrics-becoming-simplersonglyrics">Varnum et al.&nbsp;(2021) - Why are Song Lyrics Becoming Simpler?<span class="citation" data-cites="songlyrics">[2]</span></a></li>
  <li><a href="#choi-und-downie-2019---a-trend-analysis-on-concretness-of-popular-song-lyrics-concreteness" id="toc-choi-und-downie-2019---a-trend-analysis-on-concretness-of-popular-song-lyrics-concreteness" class="nav-link" data-scroll-target="#choi-und-downie-2019---a-trend-analysis-on-concretness-of-popular-song-lyrics-concreteness">Choi und Downie (2019) - A Trend Analysis on Concretness of Popular Song Lyrics <span class="citation" data-cites="concreteness">[3]</span></a></li>
  <li><a href="#beitrag-dieser-arbeit" id="toc-beitrag-dieser-arbeit" class="nav-link" data-scroll-target="#beitrag-dieser-arbeit">Beitrag dieser Arbeit</a></li>
  </ul></li>
  <li><a href="#hypothese" id="toc-hypothese" class="nav-link" data-scroll-target="#hypothese">Hypothese</a>
  <ul class="collapse">
  <li><a href="#forschungsfrage" id="toc-forschungsfrage" class="nav-link" data-scroll-target="#forschungsfrage">Forschungsfrage</a></li>
  </ul></li>
  <li><a href="#methodik" id="toc-methodik" class="nav-link" data-scroll-target="#methodik">Methodik</a>
  <ul class="collapse">
  <li><a href="#datenbeschaffung" id="toc-datenbeschaffung" class="nav-link" data-scroll-target="#datenbeschaffung">Datenbeschaffung</a>
  <ul class="collapse">
  <li><a href="#billboard-api-und-genre-crawling" id="toc-billboard-api-und-genre-crawling" class="nav-link" data-scroll-target="#billboard-api-und-genre-crawling">Billboard API und Genre-Crawling</a></li>
  <li><a href="#auswahl-der-genres" id="toc-auswahl-der-genres" class="nav-link" data-scroll-target="#auswahl-der-genres">Auswahl der Genres</a></li>
  <li><a href="#genius-api-für-songtexte" id="toc-genius-api-für-songtexte" class="nav-link" data-scroll-target="#genius-api-für-songtexte">Genius API für Songtexte</a></li>
  </ul></li>
  <li><a href="#auswahl-der-komplexitätsmetriken" id="toc-auswahl-der-komplexitätsmetriken" class="nav-link" data-scroll-target="#auswahl-der-komplexitätsmetriken">Auswahl der Komplexitätsmetriken</a>
  <ul class="collapse">
  <li><a href="#type-token-ratio-ttr" id="toc-type-token-ratio-ttr" class="nav-link" data-scroll-target="#type-token-ratio-ttr">Type-Token-Ratio (TTR)</a></li>
  <li><a href="#shannon-index-entropie" id="toc-shannon-index-entropie" class="nav-link" data-scroll-target="#shannon-index-entropie">Shannon-Index (Entropie)</a></li>
  <li><a href="#automated-readability-index-ari" id="toc-automated-readability-index-ari" class="nav-link" data-scroll-target="#automated-readability-index-ari">Automated Readability Index (ARI)</a></li>
  <li><a href="#chao1--und-chao2-estimatoren" id="toc-chao1--und-chao2-estimatoren" class="nav-link" data-scroll-target="#chao1--und-chao2-estimatoren">Chao1- und Chao2-Estimatoren</a></li>
  <li><a href="#zusammenfassung-der-metrikauswahl" id="toc-zusammenfassung-der-metrikauswahl" class="nav-link" data-scroll-target="#zusammenfassung-der-metrikauswahl">Zusammenfassung der Metrikauswahl</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#auswertung-der-ergebnisse" id="toc-auswertung-der-ergebnisse" class="nav-link" data-scroll-target="#auswertung-der-ergebnisse">Auswertung der Ergebnisse</a>
  <ul class="collapse">
  <li><a href="#metriken-der-billboard-hot-100" id="toc-metriken-der-billboard-hot-100" class="nav-link" data-scroll-target="#metriken-der-billboard-hot-100">Metriken der Billboard Hot 100</a></li>
  <li><a href="#analyse-der-genres-im-vergleich-zur-billboard-hot-100" id="toc-analyse-der-genres-im-vergleich-zur-billboard-hot-100" class="nav-link" data-scroll-target="#analyse-der-genres-im-vergleich-zur-billboard-hot-100">Analyse der Genres im Vergleich zur Billboard Hot 100</a></li>
  </ul></li>
  <li><a href="#fazit" id="toc-fazit" class="nav-link" data-scroll-target="#fazit">Fazit</a>
  <ul class="collapse">
  <li><a href="#einschränkungen" id="toc-einschränkungen" class="nav-link" data-scroll-target="#einschränkungen">Einschränkungen</a></li>
  <li><a href="#zukünftige-forschung" id="toc-zukünftige-forschung" class="nav-link" data-scroll-target="#zukünftige-forschung">Zukünftige Forschung</a></li>
  </ul></li>
  <li><a href="#referenzen" id="toc-referenzen" class="nav-link" data-scroll-target="#referenzen">Referenzen</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Andere Formate</h2><ul><li><a href="index.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Die Entwicklung der Songtextkomplexität: Eine Analyse</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Autor:in</div>
    <div class="quarto-title-meta-contents">
             <p>Lukas Reinhardt </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Veröffentlichungsdatum</div>
    <div class="quarto-title-meta-contents">
      <p class="date">13. September 2024</p>
    </div>
  </div>
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Zusammenfassung</div>
    Diese Arbeit <span class="citation" data-cites="repo">[<a href="#ref-repo" role="doc-biblioref">1</a>]</span> beschäftigt sich mit dem Thema, ob die Komplexität der Songtexte über die letzten Jahrzehnte abgenommen hat. Analysiert werden Daten aus den Jahren 1950 bis 2023. Bisherige Studien, wie die von Varnum et al. <span class="citation" data-cites="songlyrics">[<a href="#ref-songlyrics" role="doc-biblioref">2</a>]</span> und Choi und Downie <span class="citation" data-cites="concreteness">[<a href="#ref-concreteness" role="doc-biblioref">3</a>]</span>, haben sich bereits mit dieser Entwicklung befasst. Diese Arbeit erweitert den Ansatz durch die Metriken TTR, Shannon-Index und ARI sowie die Berücksichtigung einzelner Genres. Ziel ist es, ein ganzheitlicheres Bild der Entwicklung der Textkomplexität zu erhalten. Die Ergebnisse zeigen, dass, wie in den bisherigen Studien <span class="citation" data-cites="songlyrics concreteness">[<a href="#ref-songlyrics" role="doc-biblioref">2</a>–<a href="#ref-concreteness" role="doc-biblioref">3</a>]</span>, die lexikalische Vielfalt abgenommen hat, während der ARI eine gestiegene strukturelle Komplexität impliziert. Somit zeigt die Arbeit, dass die Songtexte zwar an lexikalischer Vielfalt verloren haben, gleichzeitig jedoch eine höhere strukturelle Komplexität erreicht wurde.
  </div>
</div>


</header>


<section id="einleitung" class="level1">
<h1>Einleitung</h1>
<p>Die Musikindustrie hat sich in den letzten Jahrzehnten gewandelt, was sich möglicherweise auf die Songtexte populärer Musik ausgewirkt hat. Technologische Entwicklungen, wie Streamingdienste, machten Musik zunehmend zugänglicher und führten zu einer stärkeren Kommerzialisierung. Diese und andere Wandlungen könnten die lyrische Komplexität beeinflusst haben. Diese Arbeit untersucht, ob sich die Komplexität der Songtexte, gemessen an lexikalischer Vielfalt, Informationsdichte und struktureller Komplexität, im Laufe der Zeit verändert hat.</p>
<section id="problemstellung" class="level2">
<h2 class="anchored" data-anchor-id="problemstellung">Problemstellung</h2>
<p>Diese Arbeit untersucht, ob die Textkomplexität in den populärsten Musikstücken im Laufe der Jahrzehnte kontinuierlich abgenommen hat. Während frühere Studien <span class="citation" data-cites="songlyrics concreteness">[<a href="#ref-songlyrics" role="doc-biblioref">2</a>–<a href="#ref-concreteness" role="doc-biblioref">3</a>]</span> bereits Trends in der Komplexität von Songtexten analysierten, bleibt unklar, wie sich diese Entwicklungen in verschiedenen Genres im Vergleich zu den allgemeinen Top 100 Songs verhalten haben.</p>
</section>
<section id="ziele-der-arbeit" class="level2">
<h2 class="anchored" data-anchor-id="ziele-der-arbeit">Ziele der Arbeit</h2>
<p>Ziel dieser Arbeit ist es, die Entwicklung der Textkomplexität, in den Billboard Hot 100 <span class="citation" data-cites="billboard">[<a href="#ref-billboard" role="doc-biblioref">4</a>]</span> von 1950 bis 2023 zu analysieren. Dabei soll untersucht werden, ob Songtexte über die Jahrzehnte hinweg Veränderungen in Bezug ihrer Komplexität erfahren haben. Darüber hinaus wird betrachtet, wie diese Entwicklungen in verschiedenen Musikgenre wie Pop, Rock, Rap, R&amp;B und Country im Vergleich zu den allgemeinen Trends der Billboard Hot 100 verhalten.</p>
</section>
<section id="aufbau-der-arbeit" class="level2">
<h2 class="anchored" data-anchor-id="aufbau-der-arbeit">Aufbau der Arbeit</h2>
<p>Diese Arbeit ist in mehrere Abschnitte gegliedert, nach der Einleitung folgen die verwandten Arbeiten, der relevante Studien zusammenfasst und deren Forschungsstand darlegt. In der Methodik werden verwendete Datenquellen, Metriken beschrieben. Anschließend werden die Ergebnisse der Metriken analysiert und interpretiert. Abschließend fasst das Fazit die wesentlichen Erkenntnisse zusammen und gibt Informationen für mögliche zukünftige Forschungen.</p>
</section>
</section>
<section id="verwandte-arbeit" class="level1">
<h1>Verwandte Arbeit</h1>
<section id="varnum-et-al.-2021---why-are-song-lyrics-becoming-simplersonglyrics" class="level2">
<h2 class="anchored" data-anchor-id="varnum-et-al.-2021---why-are-song-lyrics-becoming-simplersonglyrics">Varnum et al.&nbsp;(2021) - Why are Song Lyrics Becoming Simpler?<span class="citation" data-cites="songlyrics">[<a href="#ref-songlyrics" role="doc-biblioref">2</a>]</span></h2>
<p>Vanum et al.&nbsp;untersuchten die lyrische Komplexität von über 14.000 Songs der Billboard Hot 100 zwischen 1958 und 2016. Sie nutzten die Komprimierbarkeit der Texte als Maß für lyrische Komplexität und stellten fest, dass in den Jahren mit mehr neuen Musikproduktionen einfachere Texte bevorzugt wurden. Die Analyse basiert auf LZ77-Komprimierungsalgorithmen, wodurch Wiederholungen in den Texten erfasst werden.</p>
<p>Zwar erfasst die Komprimierbarkeit Aspekte der lexikalischen Vielfalt, jedoch werden andere wichtige Dimensionen der lyrischen Komplexität, wie die Informationsdichte, nicht berücksichtigt. Zudem wird der Einfluss verschiedener Genres in dieser Untersuchung nicht näher beleuchtet.</p>
</section>
<section id="choi-und-downie-2019---a-trend-analysis-on-concretness-of-popular-song-lyrics-concreteness" class="level2">
<h2 class="anchored" data-anchor-id="choi-und-downie-2019---a-trend-analysis-on-concretness-of-popular-song-lyrics-concreteness">Choi und Downie (2019) - A Trend Analysis on Concretness of Popular Song Lyrics <span class="citation" data-cites="concreteness">[<a href="#ref-concreteness" role="doc-biblioref">3</a>]</span></h2>
<p>Choi und Downie analysierten die Konkretisierung (Concreteness) der Songtexte populärer Musik von 1965 bis 2015. Concreteness bezieht sich auf die Greifbarkeit und Bildhaftigkeit von Wörtern, dabei sind konkrete Begriff wie “Auto” klarer definiert als abstrakte Begriffe wie “Liebe”. Die Studie zeigt, dass die Concreteness zunächst abnahm, dann aber mit dem Aufstieg von Genres wie Hip-Hop und Rap wieder anstieg.</p>
<p>Auch wenn die Metrik der Concreteness interessante Ergebnisse liefert, werden andere Aspekte der lyrischen Komplexität, wie die lexikalische Vielfalt und Informationsdichte, in dieser Studie nicht betrachtet. Diese könnten zusätzliche Perspektiven auf die Entwicklung der Songtexte liefern.</p>
</section>
<section id="beitrag-dieser-arbeit" class="level2">
<h2 class="anchored" data-anchor-id="beitrag-dieser-arbeit">Beitrag dieser Arbeit</h2>
<p>Im Gegensatz zu den genannten Studien verfolgt diese Arbeit einen umfassenderen Ansatz zur Bewertung der lyrischen Komplexität. Während frühere Untersuchungen, wie die von Varnum et al.<span class="citation" data-cites="songlyrics">[<a href="#ref-songlyrics" role="doc-biblioref">2</a>]</span> sowie Choi und Downie <span class="citation" data-cites="concreteness">[<a href="#ref-concreteness" role="doc-biblioref">3</a>]</span>, spezifische Aspekte wie Komprimierbarkeit oder Konkretisierung betrachteten, wird hier die Vielfalt und Informationsdichte der Songtexte aus mehreren Perspektiven analysiert. Ein weiterer wichtiger Aspekt ist die Untersuchung der Entwicklung der Genres, die in den bisherigen Studien kaum betrachtet wurden. Dabei kann die Untersuchung das Genre zeigen, ob und wie sich die Genres und die Billboard Hot 100 <span class="citation" data-cites="billboard">[<a href="#ref-billboard" role="doc-biblioref">4</a>]</span> gegenseitig beeinflusst haben. Dadurch trägt diese Arbeit dazu bei, das Verständnis der lyrischen Komplexität zu erweitern und bietet neuen Einblicke auf die Veränderung in der Musikindustrie.</p>
</section>
</section>
<section id="hypothese" class="level1">
<h1>Hypothese</h1>
<p>Die Hypothese, die in dieser Arbeit geprüft wird, lautet:</p>
<p><em>Die Qualität, Komplexität der Songtexte hat sich über die letzten Jahrzehnte verschlechtert.</em></p>
<p>Diese Annahme basiert auf bisherigen Studien, die auf eine Vereinfachung und Anstieg von Wiederholungen in populären Songs hinweisen. Besonders der Einfluss der Kommerzialisierung und die Dominanz bestimmter Musikgenres könnten dazu beigetragen haben, dass die Komplexität der Texte abgenommen hat.</p>
<section id="forschungsfrage" class="level2">
<h2 class="anchored" data-anchor-id="forschungsfrage">Forschungsfrage</h2>
<p>Die zentrale Forschungsfrage lautet:</p>
<p><em>Hat sich die Qualität der Songtexte in den letzten Jahrzenten verringert und wie unterscheidet sich diese Entwicklung im Vergleich zu einzelnen Musikgenres?</em></p>
<p>Diese Frage zielt darauf ab, sowohl die allgemeine Entwicklung der Songtexte zu untersuchen als auch zu analysieren, ob und wie sich Trends in spezifischen Genres zu den allgemeinen Entwicklungen unterscheiden.</p>
</section>
</section>
<section id="methodik" class="level1">
<h1>Methodik</h1>
<p>In diesem Kapitel wird der methodische Ansatz der Arbeit beschrieben, der sich auf die Sammlung, Vorverarbeitung und Analyse der Daten konzentriert.</p>
<div id="ed37eb05" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> csv</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> billboard</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> musicbrainzngs</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> textstat</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> nltk</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> lyricsgenius <span class="im">import</span> Genius</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> requests.exceptions <span class="im">import</span> Timeout, <span class="pp">ConnectionError</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> math <span class="im">import</span> exp, log</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> tqdm <span class="im">import</span> tqdm</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>base_path <span class="op">=</span> os.getenv(<span class="st">'BASE_PATH'</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="datenbeschaffung" class="level2">
<h2 class="anchored" data-anchor-id="datenbeschaffung">Datenbeschaffung</h2>
<p>Die Daten für die Arbeit stammen aus mehreren Quellen. Die Billboard API <span class="citation" data-cites="billboard">[<a href="#ref-billboard" role="doc-biblioref">4</a>]</span> liefert die grundlegenden Daten der Charts, die Genius API <span class="citation" data-cites="genius">[<a href="#ref-genius" role="doc-biblioref">5</a>]</span> wird genutzt, um die Songtexte dieser Daten zu beschaffen. Um eine Analyse der Textkomplexität in den verschiedenen Genres durchzuführen, wurden genrespezifische Songs ebenfalls bezogen. Die MusicBrainz API <span class="citation" data-cites="musicbrainz">[<a href="#ref-musicbrainz" role="doc-biblioref">6</a>]</span> wurde verwendet, um die fehlenden Genre-Informationen der Billboard Hot 100 zu ergänzen, dadurch konnten die am häufigsten vertretenden Genres identifiziert werden.</p>
<div id="f33fd7ec" class="cell" data-execution_count="2">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ausgangsdaten, die Billboard hot 100</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>configurations <span class="op">=</span> [</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"start_year"</span>: <span class="dv">1950</span>,</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">"end_year"</span>: <span class="dv">2023</span>,</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"genre"</span>: <span class="va">None</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Zuordnung von benutzerfreundlichen Genre-Namen zu Billboard-Chart-Namen</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>genre_to_chart_map <span class="op">=</span> {</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pop'</span>: <span class="st">'pop-songs'</span>,</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'rock'</span>: <span class="st">'rock-songs'</span>,</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'hiphop'</span>: <span class="st">'rap-song'</span>,</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'rap'</span>: <span class="st">'rap-song'</span>,</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'country'</span>: <span class="st">'country-songs'</span>,</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">'jazz'</span>: <span class="st">'jazz-songs'</span>,</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">'classical'</span>: <span class="st">'classical-albums'</span>,</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">'r&amp;b'</span>: <span class="st">'r-b-hip-hop-songs'</span>,</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">'electronic'</span>: <span class="st">'dance-electronic-songs'</span>,</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">'all'</span>: <span class="st">'hot-100'</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="billboard-api-und-genre-crawling" class="level3">
<h3 class="anchored" data-anchor-id="billboard-api-und-genre-crawling">Billboard API und Genre-Crawling</h3>
<p>Zuerst wurden die allgemeinen Billboard Hot 100 Songs von 1950 bis 2023 über die API bezogen. Diese Daten umfassen die 100 beliebtesten Songs in den jeweiligen Jahren, woraus sich 7399 Songs ergeben haben.</p>
<p>Zusätzlich wurden genrespezifische Charts von Billboard bezogen, um die Top-Songs der Genres zu erfassen. Diese genrespezifischen Songs dienen der Analyse, wie die einzelnen Genres sich entwickelt haben und die Billboard Hot 100 beeinflusst haben.</p>
<div id="eff40040" class="cell" data-execution_count="3">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_top_100_songs(year, genre<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    songs_data <span class="op">=</span> []</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> genre:</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Fetching data for year: </span><span class="sc">{</span>year<span class="sc">}</span><span class="ss">, genre: </span><span class="sc">{</span>genre<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Fetching data for year: </span><span class="sc">{</span>year<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> genre:</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>        chart_name <span class="op">=</span> genre_to_chart_map.get(genre.lower())</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="kw">not</span> chart_name:</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"Genre '</span><span class="sc">{</span>genre<span class="sc">}</span><span class="ss">' not found. Skipping year </span><span class="sc">{</span>year<span class="sc">}</span><span class="ss">."</span>)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> pd.DataFrame()  <span class="co"># Leeres DataFrame zurückgeben, wenn das Genre nicht gefunden wird</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>        chart_name <span class="op">=</span> <span class="st">'hot-100'</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>        chart <span class="op">=</span> billboard.ChartData(chart_name, date<span class="op">=</span><span class="ss">f'</span><span class="sc">{</span>year<span class="sc">}</span><span class="ss">-12-31'</span>)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i, entry <span class="kw">in</span> <span class="bu">enumerate</span>(chart):</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>            songs_data.append({</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Year'</span>: year,</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Rank'</span>: i <span class="op">+</span> <span class="dv">1</span>,</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Title'</span>: entry.title,</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Artist'</span>: entry.artist</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>            })</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Failed to fetch data for </span><span class="sc">{</span>year<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span>genre<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    time.sleep(<span class="dv">1</span>)</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.DataFrame(songs_data)</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> write_to_csv(data, filename):</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a><span class="co">    Schreibt das DataFrame in eine CSV-Datei und hängt an, wenn die Datei existiert</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>    full_path <span class="op">=</span> os.path.join(base_path, filename)</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>    mode <span class="op">=</span> <span class="st">'a'</span> <span class="cf">if</span> os.path.exists(full_path) <span class="cf">else</span> <span class="st">'w'</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>    header <span class="op">=</span> <span class="kw">not</span> os.path.exists(full_path)</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>    data.to_csv(full_path, mode<span class="op">=</span>mode, header<span class="op">=</span>header, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_configuration(config):</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a><span class="co">    Verarbeitet eine einzelne Konfiguration, ruft die Songdaten ab und speichert sie in einer CSV-Datei</span></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>    start_year <span class="op">=</span> config[<span class="st">'start_year'</span>]</span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>    end_year <span class="op">=</span> config[<span class="st">'end_year'</span>]</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>    genre <span class="op">=</span> config[<span class="st">'genre'</span>]</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>    filename <span class="op">=</span> <span class="ss">f'top_100_songs_</span><span class="sc">{</span>genre<span class="sc">}</span><span class="ss">_</span><span class="sc">{</span>start_year<span class="sc">}</span><span class="ss">_to_</span><span class="sc">{</span>end_year<span class="sc">}</span><span class="ss">.csv'</span> <span class="cf">if</span> genre <span class="cf">else</span> <span class="ss">f'top_100_songs_</span><span class="sc">{</span>start_year<span class="sc">}</span><span class="ss">_to_</span><span class="sc">{</span>end_year<span class="sc">}</span><span class="ss">.csv'</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>    full_path <span class="op">=</span> os.path.join(base_path, filename)</span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> os.path.exists(full_path):</span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"File '</span><span class="sc">{</span>full_path<span class="sc">}</span><span class="ss">' already exists. Skipping crawling for this configuration."</span>)</span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span></span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Fetching data for </span><span class="sc">{</span>start_year<span class="sc">}</span><span class="ss">-</span><span class="sc">{</span>end_year<span class="sc">}</span><span class="ss">, Genre: </span><span class="sc">{</span>genre <span class="cf">if</span> genre <span class="cf">else</span> <span class="st">'hot-100'</span><span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> year <span class="kw">in</span> <span class="bu">range</span>(start_year, end_year <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a>        data <span class="op">=</span> get_top_100_songs(year, genre)</span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a>        write_to_csv(data, filename)</span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a>    finalize_csv(filename)</span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> finalize_csv(filename):</span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a>    full_path <span class="op">=</span> os.path.join(base_path, filename)</span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> os.path.exists(full_path):</span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a>        final_data <span class="op">=</span> pd.read_csv(full_path)</span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a>        final_data.sort_values(by<span class="op">=</span>[<span class="st">'Year'</span>, <span class="st">'Rank'</span>], ascending<span class="op">=</span>[<span class="va">True</span>, <span class="va">True</span>], inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a>        final_data.to_csv(full_path, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Final sorted data saved in '</span><span class="sc">{</span>full_path<span class="sc">}</span><span class="ss">'."</span>)</span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> run_configuration(configurations):</span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> config <span class="kw">in</span> configurations:</span>
<span id="cb3-75"><a href="#cb3-75" aria-hidden="true" tabindex="-1"></a>        process_configuration(config)</span>
<span id="cb3-76"><a href="#cb3-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-77"><a href="#cb3-77" aria-hidden="true" tabindex="-1"></a>run_configuration(configurations)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="31661aca" class="cell" data-execution_count="4">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># itteriere durch jede Konfiguration und zeige die ersten paar Zeilen jeder entsprechenden CSV-Datei an</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> config <span class="kw">in</span> configurations:</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Generiere den Dateinamen basierend auf der Konfiguration</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    filename <span class="op">=</span> (</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>        <span class="ss">f'top_100_songs_</span><span class="sc">{</span>config[<span class="st">"genre"</span>] <span class="op">+</span> <span class="st">"_"</span> <span class="cf">if</span> config[<span class="st">"genre"</span>] <span class="cf">else</span> <span class="st">""</span><span class="sc">}{</span>config[<span class="st">"start_year"</span>]<span class="sc">}</span><span class="ss">_to_</span><span class="sc">{</span>config[<span class="st">"end_year"</span>]<span class="sc">}</span><span class="ss">.csv'</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    full_path <span class="op">=</span> os.path.join(base_path, filename)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check, ob die Datei existiert</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> os.path.exists(full_path):</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>        data <span class="op">=</span> pd.read_csv(full_path)</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Displaying the first few rows of data from: </span><span class="sc">{</span>full_path<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>        display(data.head())</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"File '</span><span class="sc">{</span>full_path<span class="sc">}</span><span class="ss">' does not exist."</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="37c15d0c" class="cell" data-execution_count="5">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Setze den User-Agent für die MusicBrainz API</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>USER_AGENT <span class="op">=</span> os.getenv(<span class="st">'USER_AGENT'</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>VERSION <span class="op">=</span> os.getenv(<span class="st">'VERSION'</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>CONTACT <span class="op">=</span> os.getenv(<span class="st">'CONTACT'</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> USER_AGENT <span class="kw">or</span> <span class="kw">not</span> VERSION <span class="kw">or</span> <span class="kw">not</span> CONTACT:</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Bitte setzen Sie USER_AGENT, VERSION und CONTACT in der .env-Datei"</span>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>musicbrainzngs.set_useragent(USER_AGENT, VERSION, CONTACT)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_genre_from_musicbrainz(artist_name):</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co">    Ruft das/die Genre(s) für einen gegebenen Künstler von der MusicBrainz API ab</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Suche nach dem Künstler in MusicBrainz</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>        result <span class="op">=</span> musicbrainzngs.search_artists(artist<span class="op">=</span>artist_name, limit<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Überprüfe, ob ein Ergebnis zurückgegeben wurde</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> result[<span class="st">'artist-list'</span>]:</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>            artist <span class="op">=</span> result[<span class="st">'artist-list'</span>][<span class="dv">0</span>]</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Extrahiere die Genre- oder Tag-Liste</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>            tags <span class="op">=</span> artist.get(<span class="st">'tag-list'</span>, [])</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Extrahiere die Namen der Tags (Genres)</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>            genres <span class="op">=</span> [tag[<span class="st">'name'</span>] <span class="cf">for</span> tag <span class="kw">in</span> tags]</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">', '</span>.join(genres)</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Error fetching genre for </span><span class="sc">{</span>artist_name<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span><span class="bu">str</span>(e)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> update_genres_in_dataframe(input_filename, output_filename):</span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a><span class="co">    Aktualisiert das 'Genre'-Feld im DataFrame, indem Genres von MusicBrainz abgerufen werden.</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a><span class="co">    Speichert den aktualisierten DataFrame in einer neuen CSV-Datei.</span></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> os.path.exists(output_filename):</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Datei '</span><span class="sc">{</span>output_filename<span class="sc">}</span><span class="ss">' existiert bereits. Überspringe den Crawling-Prozess."</span>)</span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Lade die Quelldaten</span></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> pd.read_csv(input_filename)</span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">'Genre'</span>] <span class="op">=</span> df[<span class="st">'Artist'</span>].<span class="bu">apply</span>(get_genre_from_musicbrainz)</span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">'Genre'</span>].fillna(<span class="st">'Unknown'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>    df.to_csv(output_filename, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Data with genres saved in '</span><span class="sc">{</span>output_filename<span class="sc">}</span><span class="ss">'."</span>)</span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(df.head())</span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>input_filename <span class="op">=</span> <span class="st">'../data/top_100_songs_1950_to_2023.csv'</span></span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>output_filename <span class="op">=</span> <span class="st">'../data/top_100_songs_1950_to_2023_with_genre.csv'</span></span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a>update_genres_in_dataframe(input_filename, output_filename)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="e2fda0ce" class="cell" data-execution_count="6">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">'../data/top_100_songs_1950_to_2023_with_genre.csv'</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Definiere eine Liste von Genres, die gezählt werden sollen, mit möglichen Variationen</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>genres_to_count <span class="op">=</span> {</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pop'</span>: <span class="vs">r'\bpop\b'</span>,</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'rock'</span>: <span class="vs">r'\brock\b'</span>,</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'classic'</span>: <span class="vs">r'\bclassic\b'</span>,</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'rap/hip-hop'</span>: <span class="vs">r'\b(hip[- ]?hop|rap)\b'</span>,  <span class="co"># Kombiniere 'hip-hop' und 'rap'</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'80s'</span>: <span class="vs">r'\b80s\b'</span>,</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'country'</span>: <span class="vs">r'\bcountry\b'</span>,</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'r&amp;b'</span>: <span class="vs">r'\br&amp;b\b'</span>,</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'edm'</span>: <span class="vs">r'\bedm\b'</span>,  <span class="co"># Passt zu 'EDM' (Electronic Dance Music)</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'latin'</span>: <span class="vs">r'\blatin\b'</span>,  <span class="co"># Könnte Reggaeton, Salsa usw. einschließen</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'indie'</span>: <span class="vs">r'\bindie\b'</span>,</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'alternative'</span>: <span class="vs">r'\balternative\b'</span>,</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'reggae'</span>: <span class="vs">r'\breggae\b'</span>,</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="auswahl-der-genres" class="level3">
<h3 class="anchored" data-anchor-id="auswahl-der-genres">Auswahl der Genres</h3>
<p>Die genrespezifischen Charts wurden basierend auf den fünf am häufigsten vertretenden Genres in den Billboard Hot 100 gewählt. Diese Daten wurden mithilfe der MusicBrainz API<span class="citation" data-cites="musicbrainz">[<a href="#ref-musicbrainz" role="doc-biblioref">6</a>]</span> ergänzt. Dies war nötig, da weder die Billboard API<span class="citation" data-cites="billboard">[<a href="#ref-billboard" role="doc-biblioref">4</a>]</span> noch die Genius API<span class="citation" data-cites="genius">[<a href="#ref-genius" role="doc-biblioref">5</a>]</span> Genres geliefert haben. Die von MusicBrainz gelieferten Genres waren jedoch nicht einheitlich, was eine genauere Auswertung der Daten erforderlich machte.</p>
<p>Nach einer Sichtung der initialen Daten wurden die am häufigsten auftretenden Genres aus der Liste der Subgenera und anderen Irregularitäten ausgewählt. Diese Auswahl wurde genutzt, um mittels eines Regex-basierten Verfahrens die inkonsistenten Daten auf, die am häufigsten vorkommen der Genres zu mappen und zu zählen (siehe <a href="#tbl-genre-count" class="quarto-xref">Tabelle&nbsp;1</a>).</p>
<div class="cell" data-execution_count="7" data-tbl-cap-location="bottom">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Funktion, um Genres in einem String mit regulären Ausdrücken zu zählen</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> count_genres_in_string(genre_string, genres_to_count):</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Stelle sicher, dass genre_string ein String ist, andernfalls gib leere Zählungen zurück</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> <span class="bu">isinstance</span>(genre_string, <span class="bu">str</span>):</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> {genre: <span class="dv">0</span> <span class="cf">for</span> genre <span class="kw">in</span> genres_to_count}</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    genre_string <span class="op">=</span> genre_string.lower()</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    counts <span class="op">=</span> {genre: <span class="dv">0</span> <span class="cf">for</span> genre <span class="kw">in</span> genres_to_count}</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> genre, pattern <span class="kw">in</span> genres_to_count.items():</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>        matches <span class="op">=</span> re.findall(pattern, genre_string)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> matches:</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>            counts[genre] <span class="op">=</span> <span class="dv">1</span> </span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> counts</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialisiere ein Wörterbuch, um die Gesamtanzahl jedes Genres zu speichern</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>genre_counts <span class="op">=</span> {genre: <span class="dv">0</span> <span class="cf">for</span> genre <span class="kw">in</span> genres_to_count}</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Zähle die Genres über das gesamte DataFrame hinweg</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> genre_string <span class="kw">in</span> df[<span class="st">'Genre'</span>]:</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    counts <span class="op">=</span> count_genres_in_string(genre_string, genres_to_count)</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> genre, count <span class="kw">in</span> counts.items():</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>        genre_counts[genre] <span class="op">+=</span> count</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>genre_counts_df <span class="op">=</span> pd.DataFrame(<span class="bu">list</span>(genre_counts.items()), columns<span class="op">=</span>[<span class="st">'Genre'</span>, <span class="st">'Count'</span>])</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>genre_counts_df <span class="op">=</span> genre_counts_df.sort_values(by<span class="op">=</span><span class="st">'Count'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>display(genre_counts_df.style.hide(axis<span class="op">=</span><span class="st">'index'</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-genre-count" class="cell quarto-float anchored" data-execution_count="7" data-tbl-cap-location="bottom">
<figure class="quarto-float quarto-float-tbl figure">
<div aria-describedby="tbl-genre-count-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display">
<div>
<style type="text/css">
</style>

<table id="T_1c033" class="do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th id="T_1c033_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Genre</th>
<th id="T_1c033_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_1c033_row0_col0" class="data row0 col0">pop</td>
<td id="T_1c033_row0_col1" class="data row0 col1">4930</td>
</tr>
<tr class="even">
<td id="T_1c033_row1_col0" class="data row1 col0">rock</td>
<td id="T_1c033_row1_col1" class="data row1 col1">3796</td>
</tr>
<tr class="odd">
<td id="T_1c033_row2_col0" class="data row2 col0">classic</td>
<td id="T_1c033_row2_col1" class="data row2 col1">2148</td>
</tr>
<tr class="even">
<td id="T_1c033_row3_col0" class="data row3 col0">r&amp;b</td>
<td id="T_1c033_row3_col1" class="data row3 col1">1393</td>
</tr>
<tr class="odd">
<td id="T_1c033_row4_col0" class="data row4 col0">country</td>
<td id="T_1c033_row4_col1" class="data row4 col1">1205</td>
</tr>
<tr class="even">
<td id="T_1c033_row5_col0" class="data row5 col0">rap/hip-hop</td>
<td id="T_1c033_row5_col1" class="data row5 col1">1191</td>
</tr>
<tr class="odd">
<td id="T_1c033_row6_col0" class="data row6 col0">alternative</td>
<td id="T_1c033_row6_col1" class="data row6 col1">1072</td>
</tr>
<tr class="even">
<td id="T_1c033_row7_col0" class="data row7 col0">indie</td>
<td id="T_1c033_row7_col1" class="data row7 col1">925</td>
</tr>
<tr class="odd">
<td id="T_1c033_row8_col0" class="data row8 col0">80s</td>
<td id="T_1c033_row8_col1" class="data row8 col1">546</td>
</tr>
<tr class="even">
<td id="T_1c033_row9_col0" class="data row9 col0">reggae</td>
<td id="T_1c033_row9_col1" class="data row9 col1">271</td>
</tr>
<tr class="odd">
<td id="T_1c033_row10_col0" class="data row10 col0">latin</td>
<td id="T_1c033_row10_col1" class="data row10 col1">111</td>
</tr>
<tr class="even">
<td id="T_1c033_row11_col0" class="data row11 col0">edm</td>
<td id="T_1c033_row11_col1" class="data row11 col1">55</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-genre-count-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;1: Die Tabelle zeigt die Anzahl der Songs pro Genre, basierend auf den in den Billboard Hot 100 am häufigsten vertretenen Genres.
</figcaption>
</figure>
</div>
</div>
<div id="29748369" class="cell" data-execution_count="8">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>configurations <span class="op">=</span> [</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"start_year"</span>: <span class="dv">1950</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"end_year"</span>: <span class="dv">2023</span>,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">"genre"</span>: <span class="va">None</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">"start_year"</span>: <span class="dv">1950</span>,</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">"end_year"</span>: <span class="dv">2023</span>,</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">"genre"</span>: <span class="st">"pop"</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"start_year"</span>: <span class="dv">1950</span>,</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">"end_year"</span>: <span class="dv">2023</span>,</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">"genre"</span>: <span class="st">"rock"</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">"start_year"</span>: <span class="dv">1950</span>,</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>        <span class="st">"end_year"</span>: <span class="dv">2023</span>,</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>        <span class="st">"genre"</span>: <span class="st">"country"</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>        <span class="st">"start_year"</span>: <span class="dv">1950</span>,</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>        <span class="st">"end_year"</span>: <span class="dv">2023</span>,</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>        <span class="st">"genre"</span>: <span class="st">"rap"</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>        <span class="st">"start_year"</span>: <span class="dv">1950</span>,</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>        <span class="st">"end_year"</span>: <span class="dv">2023</span>,</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>        <span class="st">"genre"</span>: <span class="st">"r&amp;b"</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>run_configuration(configurations)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Diese Liste gibt uns Auskunft über die relevantesten Genres innerhalb der Billboard Hot 100. Wichtig ist zu betrachten, dass es auch doppelt belegte Songs gibt, wodurch aufsummieren der Genres keinen Sinn macht. Auf dieser Basis wurden die zu crawlenden Genre-Charts gewählt: Pop, Rock, R&amp;B, Country, Rap. Diese wurden danach mittels Matching des Titels geprüft, ob sie auch in den Billboard Hot 100 vorhanden sind. Da Classic kein Matching hatte, wurde es aus den Top 5 entfernt und Rap stattdessen hinzugefügt. Durch dieses Matching haben wir ab etwa 1992 eine 60% Vollständigkeit der Billboard Daten in Form der Genres (siehe <a href="#fig-completeness-score" class="quarto-xref">Abb.&nbsp;1</a>).</p>
<div id="cell-fig-completeness-score" class="cell" data-execution_count="9">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> clean_column_names(df):</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    df.columns <span class="op">=</span> df.columns.<span class="bu">str</span>.strip()  <span class="co"># Entfernt Leerzeichen</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> df</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> load_csv_file(file_path):</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    full_path <span class="op">=</span> os.path.join(base_path, file_path)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> os.path.exists(full_path):</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>        df <span class="op">=</span> pd.read_csv(full_path)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>        df <span class="op">=</span> clean_column_names(df)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> df</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Datei '</span><span class="sc">{</span>full_path<span class="sc">}</span><span class="ss">' existiert nicht."</span>)</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> pd.DataFrame()</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_completeness_score(main_data, genre_files, start_year, end_year):</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Erstelle ein Dictionary, um Übereinstimmungen pro Jahr zu speichern</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    matches_per_year <span class="op">=</span> {year: <span class="dv">0</span> <span class="cf">for</span> year <span class="kw">in</span> <span class="bu">range</span>(start_year, end_year <span class="op">+</span> <span class="dv">1</span>)}</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> genre_file <span class="kw">in</span> genre_files:</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>        genre_data <span class="op">=</span> load_csv_file(genre_file)</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="kw">not</span> genre_data.empty:</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> year <span class="kw">in</span> <span class="bu">range</span>(start_year, end_year <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>                genre_year_data <span class="op">=</span> genre_data[genre_data[<span class="st">'Year'</span>] <span class="op">==</span> year]</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>                main_year_data <span class="op">=</span> main_data[main_data[<span class="st">'Year'</span>] <span class="op">==</span> year]</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>                overlap <span class="op">=</span> pd.merge(genre_year_data, main_year_data, on<span class="op">=</span>[<span class="st">'Title'</span>, <span class="st">'Artist'</span>], how<span class="op">=</span><span class="st">'inner'</span>)</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>                matches_per_year[year] <span class="op">+=</span> <span class="bu">len</span>(overlap)</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>    total_matches <span class="op">=</span> <span class="bu">sum</span>(matches_per_year.values())</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>    total_songs_per_year <span class="op">=</span> main_data.groupby(<span class="st">'Year'</span>).size().to_dict()</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>    completeness_scores <span class="op">=</span> {}</span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> year <span class="kw">in</span> <span class="bu">range</span>(start_year, end_year <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>        total_songs <span class="op">=</span> total_songs_per_year.get(year, <span class="dv">0</span>)</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> total_songs <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>            completeness_scores[year] <span class="op">=</span> (matches_per_year[year] <span class="op">/</span> total_songs) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>            completeness_scores[year] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>    total_songs_in_main <span class="op">=</span> <span class="bu">sum</span>(total_songs_per_year.values())</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> total_songs_in_main <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>        overall_completeness_score <span class="op">=</span> (total_matches <span class="op">/</span> total_songs_in_main) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>        overall_completeness_score <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> completeness_scores, overall_completeness_score</span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_completeness_scores(completeness_scores):</span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>    years <span class="op">=</span> <span class="bu">list</span>(completeness_scores.keys())</span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a>    scores <span class="op">=</span> <span class="bu">list</span>(completeness_scores.values())</span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a>    plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">5</span>))</span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a>    plt.grid(visible<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a>    plt.plot(years, scores, marker<span class="op">=</span><span class="st">'o'</span>, color<span class="op">=</span><span class="st">'green'</span>)</span>
<span id="cb9-54"><a href="#cb9-54" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="st">'Completeness Score pro Jahr'</span>)</span>
<span id="cb9-55"><a href="#cb9-55" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(<span class="st">'Jahr'</span>)</span>
<span id="cb9-56"><a href="#cb9-56" aria-hidden="true" tabindex="-1"></a>    plt.ylabel(<span class="st">'Completeness Score (%)'</span>)</span>
<span id="cb9-57"><a href="#cb9-57" aria-hidden="true" tabindex="-1"></a>    plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>)</span>
<span id="cb9-58"><a href="#cb9-58" aria-hidden="true" tabindex="-1"></a>    plt.show()</span>
<span id="cb9-59"><a href="#cb9-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-60"><a href="#cb9-60" aria-hidden="true" tabindex="-1"></a>main_config <span class="op">=</span> <span class="bu">next</span>(config <span class="cf">for</span> config <span class="kw">in</span> configurations <span class="cf">if</span> config[<span class="st">"genre"</span>] <span class="kw">is</span> <span class="va">None</span>)</span>
<span id="cb9-61"><a href="#cb9-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-62"><a href="#cb9-62" aria-hidden="true" tabindex="-1"></a><span class="co"># Generiere den Dateinamen für die Hauptdatei basierend auf der Konfiguration</span></span>
<span id="cb9-63"><a href="#cb9-63" aria-hidden="true" tabindex="-1"></a>main_file <span class="op">=</span> <span class="ss">f'top_100_songs_</span><span class="sc">{</span>main_config[<span class="st">"start_year"</span>]<span class="sc">}</span><span class="ss">_to_</span><span class="sc">{</span>main_config[<span class="st">"end_year"</span>]<span class="sc">}</span><span class="ss">.csv'</span></span>
<span id="cb9-64"><a href="#cb9-64" aria-hidden="true" tabindex="-1"></a>main_data <span class="op">=</span> load_csv_file(main_file)</span>
<span id="cb9-65"><a href="#cb9-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-66"><a href="#cb9-66" aria-hidden="true" tabindex="-1"></a><span class="co"># Generiere Dateinamen für die genrespezifischen Dateien</span></span>
<span id="cb9-67"><a href="#cb9-67" aria-hidden="true" tabindex="-1"></a>genre_files <span class="op">=</span> [</span>
<span id="cb9-68"><a href="#cb9-68" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f'top_100_songs_</span><span class="sc">{</span>config[<span class="st">"genre"</span>]<span class="sc">}</span><span class="ss">_</span><span class="sc">{</span>config[<span class="st">"start_year"</span>]<span class="sc">}</span><span class="ss">_to_</span><span class="sc">{</span>config[<span class="st">"end_year"</span>]<span class="sc">}</span><span class="ss">.csv'</span> <span class="cf">if</span> config[<span class="st">"genre"</span>] </span>
<span id="cb9-69"><a href="#cb9-69" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span> <span class="ss">f'top_100_songs_</span><span class="sc">{</span>config[<span class="st">"start_year"</span>]<span class="sc">}</span><span class="ss">_to_</span><span class="sc">{</span>config[<span class="st">"end_year"</span>]<span class="sc">}</span><span class="ss">.csv'</span></span>
<span id="cb9-70"><a href="#cb9-70" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> config <span class="kw">in</span> configurations <span class="cf">if</span> config[<span class="st">"genre"</span>]</span>
<span id="cb9-71"><a href="#cb9-71" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb9-72"><a href="#cb9-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-73"><a href="#cb9-73" aria-hidden="true" tabindex="-1"></a>completeness_scores, overall_completeness_score <span class="op">=</span> calculate_completeness_score(main_data, genre_files, <span class="dv">1950</span>, <span class="dv">2023</span>)</span>
<span id="cb9-74"><a href="#cb9-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-75"><a href="#cb9-75" aria-hidden="true" tabindex="-1"></a>plot_completeness_scores(completeness_scores)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-completeness-score" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-completeness-score-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-completeness-score-output-1.png" class="quarto-figure quarto-figure-center figure-img" width="816" height="470">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-completeness-score-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;1: Der Plot zeigt den Completeness Score der Top 100 Songs pro Jahr von 1950 bis 2023. Auf der x-Achse sind die Jahre, auf der y-Achse der Completeness Score in Prozent. Ein höherer Score bedeutet einen größeren Anteil genrespezifischer Songs in den Top 100 für das jeweilige Jahr.
</figcaption>
</figure>
</div>
</div>
</div>
<div id="d6e5396a" class="cell" data-execution_count="10">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> generate_csv_filename(config, base_path<span class="op">=</span>base_path):</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Generiert den Dateinamen für eine gegebene Konfiguration</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    genre_part <span class="op">=</span> <span class="ss">f"</span><span class="sc">{</span>config[<span class="st">'genre'</span>]<span class="sc">}</span><span class="ss">_"</span> <span class="cf">if</span> config[<span class="st">'genre'</span>] <span class="cf">else</span> <span class="st">""</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> os.path.join(base_path, <span class="ss">f"top_100_songs_</span><span class="sc">{</span>genre_part<span class="sc">}{</span>config[<span class="st">'start_year'</span>]<span class="sc">}</span><span class="ss">_to_</span><span class="sc">{</span>config[<span class="st">'end_year'</span>]<span class="sc">}</span><span class="ss">.csv"</span>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_all_csv_files(configurations):</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> [generate_csv_filename(config) <span class="cf">for</span> config <span class="kw">in</span> configurations]</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> load_source_data(csv_files):</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.concat([pd.read_csv(<span class="bu">file</span>) <span class="cf">for</span> <span class="bu">file</span> <span class="kw">in</span> csv_files], ignore_index<span class="op">=</span><span class="va">True</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="b5aa5dbb" class="cell" data-execution_count="11">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>GENIUS_API_TOKEN <span class="op">=</span> os.getenv(<span class="st">'GENIUS_API_TOKEN'</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> GENIUS_API_TOKEN <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Please set the GENIUS_API_TOKEN in the .env file"</span>)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize Genius API</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>genius <span class="op">=</span> Genius(GENIUS_API_TOKEN)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>csv_files <span class="op">=</span> get_all_csv_files(configurations)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="ef3c01f2" class="cell" data-execution_count="12">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> search_song_info(song_title, artist_name, retries<span class="op">=</span><span class="dv">3</span>):</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    base_url <span class="op">=</span> <span class="st">'https://api.genius.com'</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    headers <span class="op">=</span> {<span class="st">'Authorization'</span>: <span class="ss">f'Bearer </span><span class="sc">{</span>GENIUS_API_TOKEN<span class="sc">}</span><span class="ss">'</span>}</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    search_url <span class="op">=</span> base_url <span class="op">+</span> <span class="st">'/search'</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    params <span class="op">=</span> {<span class="st">'q'</span>: <span class="ss">f'</span><span class="sc">{</span>song_title<span class="sc">}</span><span class="ss"> </span><span class="sc">{</span>artist_name<span class="sc">}</span><span class="ss">'</span>}</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> attempt <span class="kw">in</span> <span class="bu">range</span>(retries):</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>            response <span class="op">=</span> requests.get(search_url, headers<span class="op">=</span>headers, params<span class="op">=</span>params, timeout<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>            response.raise_for_status()  <span class="co"># Raises a HTTPError if the response code was unsuccessful</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>            search_results <span class="op">=</span> response.json().get(<span class="st">'response'</span>, {}).get(<span class="st">'hits'</span>, [])</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> search_results:</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> search_results[<span class="dv">0</span>][<span class="st">'result'</span>]</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> (Timeout, <span class="pp">ConnectionError</span>) <span class="im">as</span> e:</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"Attempt </span><span class="sc">{</span>attempt<span class="op">+</span><span class="dv">1</span><span class="sc">}</span><span class="ss"> failed with error: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">. Retrying..."</span>)</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>            time.sleep(<span class="dv">2</span>)  <span class="co"># Wait for 2 seconds before retrying</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"Failed to fetch </span><span class="sc">{</span>song_title<span class="sc">}</span><span class="ss"> by </span><span class="sc">{</span>artist_name<span class="sc">}</span><span class="ss"> with error: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span>  <span class="co"># Exit the loop if an unexpected error occurs</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">None</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="f31e52e8" class="cell" data-execution_count="13">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_song_details(song_title, artist_name, rank, year):</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    song_info <span class="op">=</span> search_song_info(song_title, artist_name)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> song_info:</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>        song_id <span class="op">=</span> song_info[<span class="st">'id'</span>]</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>            song_data_response <span class="op">=</span> genius.song(song_id)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>            song_data <span class="op">=</span> song_data_response[<span class="st">'song'</span>]</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>            lyrics <span class="op">=</span> genius.lyrics(song_id)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>            song_length <span class="op">=</span> song_data.get(<span class="st">'duration'</span>, <span class="dv">0</span>) <span class="op">/</span> <span class="dv">1000</span>  <span class="co"># Convert milliseconds to seconds</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>            song_data_ordered <span class="op">=</span> {</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Rank'</span>: rank,</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Year'</span>: year,</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Artist'</span>: artist_name,</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Title'</span>: song_title,</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Genre'</span>: song_data[<span class="st">'primary_artist'</span>].get(<span class="st">'genres'</span>, <span class="st">'N/A'</span>) <span class="cf">if</span> <span class="st">'primary_artist'</span> <span class="kw">in</span> song_data <span class="cf">else</span> <span class="st">'N/A'</span>,</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Duration'</span>: song_length,</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Lyrics'</span>: lyrics,</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Album'</span>: song_data[<span class="st">'album'</span>][<span class="st">'name'</span>] <span class="cf">if</span> <span class="st">'album'</span> <span class="kw">in</span> song_data <span class="kw">and</span> song_data[<span class="st">'album'</span>] <span class="cf">else</span> <span class="st">'N/A'</span>,</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Song URL'</span>: song_info[<span class="st">'url'</span>],</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Release Date'</span>: song_data.get(<span class="st">'release_date'</span>, <span class="st">'N/A'</span>),</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>                </span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> song_data_ordered</span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> (Timeout, <span class="pp">ConnectionError</span>) <span class="im">as</span> e:</span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"Failed to fetch song details for </span><span class="sc">{</span>song_title<span class="sc">}</span><span class="ss"> by </span><span class="sc">{</span>artist_name<span class="sc">}</span><span class="ss"> with error: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"An unexpected error occurred: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">None</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="7272c1cc" class="cell" data-execution_count="15">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fetch_and_store_song_lyrics(filename):</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Holt Songtexte und andere Details für jeden Song in der gegebenen CSV-Datei ab</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co">    Protokolliert fehlgeschlagene Versuche und speichert erfolgreiche Abrufe</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    log_filename <span class="op">=</span> filename.replace(<span class="st">".csv"</span>, <span class="st">"_failed_log.csv"</span>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    detailed_filename <span class="op">=</span> filename.replace(<span class="st">".csv"</span>, <span class="st">"_with_lyrics.csv"</span>)</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> os.path.exists(detailed_filename):</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>        detailed_df <span class="op">=</span> pd.read_csv(detailed_filename)</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>        existing_songs <span class="op">=</span> <span class="bu">set</span>(<span class="bu">zip</span>(detailed_df[<span class="st">'Title'</span>], detailed_df[<span class="st">'Artist'</span>]))</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>        detailed_df <span class="op">=</span> pd.DataFrame()</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>        existing_songs <span class="op">=</span> <span class="bu">set</span>()</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> pd.read_csv(filename)</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>    all_song_details <span class="op">=</span> []</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>    failed_attempts <span class="op">=</span> []</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>    progress_bar <span class="op">=</span> tqdm(df.iterrows(), total<span class="op">=</span>df.shape[<span class="dv">0</span>], desc<span class="op">=</span><span class="ss">f"Processing </span><span class="sc">{</span>filename<span class="sc">}</span><span class="ss">"</span>, leave<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> index, row <span class="kw">in</span> progress_bar:</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>        song_title <span class="op">=</span> row[<span class="st">'Title'</span>]</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>        artist_name <span class="op">=</span> row[<span class="st">'Artist'</span>]</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>        rank <span class="op">=</span> row[<span class="st">'Rank'</span>]</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>        year <span class="op">=</span> row[<span class="st">'Year'</span>]</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (song_title, artist_name) <span class="kw">in</span> existing_songs:</span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>            progress_bar.set_postfix_str(<span class="ss">f"Skipping: </span><span class="sc">{</span>song_title<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>            <span class="cf">continue</span></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>        song_details <span class="op">=</span> get_song_details(song_title, artist_name, rank, year)</span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> song_details:</span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>            all_song_details.append(song_details)</span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>            progress_bar.set_postfix_str(<span class="ss">f"Fetched: </span><span class="sc">{</span>song_title<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>            failed_attempts.append({<span class="st">'Title'</span>: song_title, <span class="st">'Artist'</span>: artist_name, <span class="st">'Rank'</span>: rank, <span class="st">'Year'</span>: year})</span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>            progress_bar.set_postfix_str(<span class="ss">f"Failed: </span><span class="sc">{</span>song_title<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> all_song_details:</span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a>        new_details_df <span class="op">=</span> pd.DataFrame(all_song_details)</span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>        detailed_df <span class="op">=</span> pd.concat([detailed_df, new_details_df], ignore_index<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a>        detailed_df.to_csv(detailed_filename, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a>        progress_bar.set_postfix_str(<span class="ss">f"Updated data saved"</span>)</span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> failed_attempts:</span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(log_filename, <span class="st">'w'</span>, newline<span class="op">=</span><span class="st">''</span>, encoding<span class="op">=</span><span class="st">'utf-8'</span>) <span class="im">as</span> logfile:</span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a>            logwriter <span class="op">=</span> csv.DictWriter(logfile, fieldnames<span class="op">=</span>[<span class="st">'Title'</span>, <span class="st">'Artist'</span>, <span class="st">'Rank'</span>, <span class="st">'Year'</span>])</span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a>            logwriter.writeheader()</span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true" tabindex="-1"></a>            logwriter.writerows(failed_attempts)</span>
<span id="cb14-52"><a href="#cb14-52" aria-hidden="true" tabindex="-1"></a>        progress_bar.set_postfix_str(<span class="ss">f"Failed attempts logged"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="869fd5cd" class="cell" data-execution_count="16">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> display_csv_files(csv_files):</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Zeigt die Liste der zu verarbeitenden CSV-Dateien an</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Files to be processed:"</span>)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> filename <span class="kw">in</span> csv_files:</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(filename)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> crawl_lyrics_using_billboard_data(csv_files):</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="co">    Crawlt Songtexte aus dem Web basierend auf Billboard-Daten in jeder CSV-Datei und überspringt bereits verarbeitete Dateien</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> filename <span class="kw">in</span> csv_files:</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>        filename_with_lyrics <span class="op">=</span> filename.replace(<span class="st">".csv"</span>, <span class="st">"_with_lyrics.csv"</span>)</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> os.path.exists(filename_with_lyrics):</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"File '</span><span class="sc">{</span>filename_with_lyrics<span class="sc">}</span><span class="ss">' already exists. Skipping processing."</span>)</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>            <span class="cf">continue</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> os.path.exists(filename):</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"Processing file: </span><span class="sc">{</span>filename<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>            fetch_and_store_song_lyrics(filename)</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"File '</span><span class="sc">{</span>filename<span class="sc">}</span><span class="ss">' does not exist."</span>)</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'configurations' is already defined</span></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>csv_files <span class="op">=</span> get_all_csv_files(configurations)</span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the list of files to be processed</span></span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>display_csv_files(csv_files)</span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Now process each file in the generated list</span></span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>crawl_lyrics_using_billboard_data(csv_files)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="genius-api-für-songtexte" class="level3">
<h3 class="anchored" data-anchor-id="genius-api-für-songtexte">Genius API für Songtexte</h3>
<p>Nachdem die Billboard- und genrespezifischen Daten erfasst wurden, war die Abrufung der Songtexte über die Genius API<span class="citation" data-cites="genius">[<a href="#ref-genius" role="doc-biblioref">5</a>]</span> der nächste Schritt. Genius bietet eine umfangreiche Datenbank für Songtexte, die für die Untersuchung der linguistischen Komplexität eine zentrale Rolle spielt. Für jeden Song der allgemeinen Billboard Hot 100 und der genrespezifischen Top-Songs wurde eine Anfrage an die Genius-API gestellt, um den vollständigen Songtext sowie weitere Metadaten abzurufen. Daraus resultierte folgende Datenvollständigkeit im Bezug auf die jeweiligen Top-Listen, wie in Tabelle <a href="#tbl-lyric-completeness" class="quarto-xref">Tabelle&nbsp;2</a> zu sehen ist:</p>
<div class="cell" data-execution_count="17" data-tbl-cap-location="bottom">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> count_songs_and_calculate_completeness(csv_files, genre_names):</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    results <span class="op">=</span> []</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i, <span class="bu">file</span> <span class="kw">in</span> <span class="bu">enumerate</span>(csv_files):</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Lade die Original-CSV-Datei</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>        df <span class="op">=</span> pd.read_csv(<span class="bu">file</span>)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>        total_songs <span class="op">=</span> <span class="bu">len</span>(df)</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Lade die _with_lyrics-CSV-Datei</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>        with_lyrics_file <span class="op">=</span> <span class="bu">file</span>.replace(<span class="st">'.csv'</span>, <span class="st">'_with_lyrics.csv'</span>)</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>        df_with_lyrics <span class="op">=</span> pd.read_csv(with_lyrics_file)</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>        songs_with_lyrics <span class="op">=</span> <span class="bu">len</span>(df_with_lyrics)</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Berechne den Vollständigkeitsgrad</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>        completeness_score <span class="op">=</span> (songs_with_lyrics <span class="op">/</span> total_songs) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Speichere die Ergebnisse in der gewünschten Tabellenform</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>        results.append({</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>            <span class="st">'Genre'</span>: genre_names[i],</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>            <span class="st">'Songanzahl'</span>: total_songs,</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>            <span class="st">'Lyrics'</span>: songs_with_lyrics,</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>            <span class="st">'Vollständigkeit'</span>: <span class="ss">f"</span><span class="sc">{</span>completeness_score<span class="sc">:.2f}</span><span class="ss">%"</span>  <span class="co"># Format mit zwei Dezimalstellen</span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>        })</span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>    results_df <span class="op">=</span> pd.DataFrame(results)</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> results_df</span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>csv_files <span class="op">=</span> get_all_csv_files(configurations)  <span class="co"># Deine bestehenden CSV-Dateien</span></span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>genre_names <span class="op">=</span> [config[<span class="st">"genre"</span>] <span class="cf">if</span> config[<span class="st">"genre"</span>] <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span> <span class="cf">else</span> <span class="st">"Hot 100"</span> <span class="cf">for</span> config <span class="kw">in</span> configurations]</span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>results_df <span class="op">=</span> count_songs_and_calculate_completeness(csv_files, genre_names)</span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>results_df_transposed <span class="op">=</span> results_df.set_index(<span class="st">'Genre'</span>).transpose()</span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>results_df_transposed</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-lyric-completeness" class="cell quarto-float anchored" data-execution_count="17" data-tbl-cap-location="bottom">
<figure class="quarto-float quarto-float-tbl figure">
<div aria-describedby="tbl-lyric-completeness-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display" data-execution_count="17">
<div>
<div>


<table class="dataframe do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Genre</th>
<th data-quarto-table-cell-role="th">Hot 100</th>
<th data-quarto-table-cell-role="th">pop</th>
<th data-quarto-table-cell-role="th">rock</th>
<th data-quarto-table-cell-role="th">country</th>
<th data-quarto-table-cell-role="th">rap</th>
<th data-quarto-table-cell-role="th">r&amp;b</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Songanzahl</td>
<td>7399</td>
<td>2960</td>
<td>3700</td>
<td>4820</td>
<td>2265</td>
<td>5280</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Lyrics</td>
<td>7165</td>
<td>2880</td>
<td>3693</td>
<td>4673</td>
<td>2164</td>
<td>5106</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Vollständigkeit</td>
<td>96.84%</td>
<td>97.30%</td>
<td>99.81%</td>
<td>96.95%</td>
<td>95.54%</td>
<td>96.70%</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-lyric-completeness-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;2: Tabelle zeigt die Vollständigkeit der Songtexte in den Top-Listen der Billboard Hot 100 und genrespezifischen Charts basierend auf der Anzahl der Songs mit verfügbaren Songtexten. Die Vollständigkeit gibt den Prozentsatz der Songs an, für die Songtexte über die Genius API abrufbar waren.
</figcaption>
</figure>
</div>
</div>
<div id="33dc21a2" class="cell" data-execution_count="18">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>main_file <span class="op">=</span> os.path.join(base_path, <span class="st">"top_100_songs_1950_to_2023_with_lyrics.csv"</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> load_csv_file(filename):</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.read_csv(filename)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Genres basierend auf Überschneidungen zuzuweisen und mehrere Genres zu behandeln</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> assign_genres_to_main_data(main_data, genre_data, start_year, end_year, genre_name):</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> year <span class="kw">in</span> <span class="bu">range</span>(start_year, end_year <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Filtere Daten für das aktuelle Jahr</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>        genre_year_data <span class="op">=</span> genre_data[genre_data[<span class="st">'Year'</span>] <span class="op">==</span> year]</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>        main_year_data <span class="op">=</span> main_data[main_data[<span class="st">'Year'</span>] <span class="op">==</span> year]</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Finde sich überschneidende Songs nach Titel und Künstler</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>        overlap <span class="op">=</span> pd.merge(genre_year_data, main_year_data, on<span class="op">=</span>[<span class="st">'Title'</span>, <span class="st">'Artist'</span>], how<span class="op">=</span><span class="st">'inner'</span>)</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Weise das Genre den übereinstimmenden Zeilen in den Hauptdaten zu</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> _, row <span class="kw">in</span> overlap.iterrows():</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>            current_genre <span class="op">=</span> main_data.loc[(main_data[<span class="st">'Title'</span>] <span class="op">==</span> row[<span class="st">'Title'</span>]) <span class="op">&amp;</span> (main_data[<span class="st">'Artist'</span>] <span class="op">==</span> row[<span class="st">'Artist'</span>]), <span class="st">'Genre'</span>].values[<span class="dv">0</span>]</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> pd.isna(current_genre) <span class="kw">or</span> current_genre <span class="op">==</span> <span class="st">''</span>:</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>                <span class="co"># Wenn kein Genre existiert, weise das neue Genre zu</span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>                main_data.loc[(main_data[<span class="st">'Title'</span>] <span class="op">==</span> row[<span class="st">'Title'</span>]) <span class="op">&amp;</span> (main_data[<span class="st">'Artist'</span>] <span class="op">==</span> row[<span class="st">'Artist'</span>]), <span class="st">'Genre'</span>] <span class="op">=</span> genre_name</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>                <span class="co"># Wenn bereits ein Genre existiert, füge das neue Genre hinzu</span></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> genre_name <span class="kw">not</span> <span class="kw">in</span> current_genre.split(<span class="st">','</span>):</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>                    updated_genre <span class="op">=</span> current_genre <span class="op">+</span> <span class="st">', '</span> <span class="op">+</span> genre_name</span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>                    main_data.loc[(main_data[<span class="st">'Title'</span>] <span class="op">==</span> row[<span class="st">'Title'</span>]) <span class="op">&amp;</span> (main_data[<span class="st">'Artist'</span>] <span class="op">==</span> row[<span class="st">'Artist'</span>]), <span class="st">'Genre'</span>] <span class="op">=</span> updated_genre</span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> main_data</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_and_save_data(main_file, configurations):</span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>    main_data <span class="op">=</span> load_csv_file(main_file)</span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Lade die "no genre" Daten</span></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>    no_genre_data <span class="op">=</span> pd.DataFrame()</span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> config <span class="kw">in</span> configurations:</span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> config[<span class="st">"genre"</span>] <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>            no_genre_file <span class="op">=</span> os.path.join(base_path, <span class="ss">f'top_100_songs_</span><span class="sc">{</span>config[<span class="st">"start_year"</span>]<span class="sc">}</span><span class="ss">_to_</span><span class="sc">{</span>config[<span class="st">"end_year"</span>]<span class="sc">}</span><span class="ss">.csv'</span>)</span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a>            no_genre_data <span class="op">=</span> load_csv_file(no_genre_file)</span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span></span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a>    <span class="co"># iterriere durch Genre-Konfigurationen und verarbeite Überschneidungen</span></span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> config <span class="kw">in</span> configurations:</span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> config[<span class="st">"genre"</span>]:</span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a>            genre_file <span class="op">=</span> os.path.join(base_path, <span class="ss">f'top_100_songs_</span><span class="sc">{</span>config[<span class="st">"genre"</span>]<span class="sc">}</span><span class="ss">_</span><span class="sc">{</span>config[<span class="st">"start_year"</span>]<span class="sc">}</span><span class="ss">_to_</span><span class="sc">{</span>config[<span class="st">"end_year"</span>]<span class="sc">}</span><span class="ss">.csv'</span>)</span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a>            genre_data <span class="op">=</span> load_csv_file(genre_file)</span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-48"><a href="#cb17-48" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="kw">not</span> genre_data.empty:</span>
<span id="cb17-49"><a href="#cb17-49" aria-hidden="true" tabindex="-1"></a>                <span class="co"># Weise Genres den Hauptdaten zu</span></span>
<span id="cb17-50"><a href="#cb17-50" aria-hidden="true" tabindex="-1"></a>                main_data <span class="op">=</span> assign_genres_to_main_data(main_data, genre_data, config[<span class="st">"start_year"</span>], config[<span class="st">"end_year"</span>], config[<span class="st">"genre"</span>])</span>
<span id="cb17-51"><a href="#cb17-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-52"><a href="#cb17-52" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Speichere die aktualisierten Daten</span></span>
<span id="cb17-53"><a href="#cb17-53" aria-hidden="true" tabindex="-1"></a>    output_file <span class="op">=</span> os.path.join(base_path, <span class="st">'completed_data.csv'</span>)</span>
<span id="cb17-54"><a href="#cb17-54" aria-hidden="true" tabindex="-1"></a>    main_data.to_csv(output_file, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb17-55"><a href="#cb17-55" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Abgeschlossene Daten gespeichert in </span><span class="sc">{</span>output_file<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb17-56"><a href="#cb17-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-57"><a href="#cb17-57" aria-hidden="true" tabindex="-1"></a>process_and_save_data(main_file, configurations)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="auswahl-der-komplexitätsmetriken" class="level2">
<h2 class="anchored" data-anchor-id="auswahl-der-komplexitätsmetriken">Auswahl der Komplexitätsmetriken</h2>
<p>Für die Analyse der Komplexität von Songtexten wurden mehrere Metriken in Betracht gezogen, um Vielfalt, Informationsdichte und Vorhersagbarkeit der verwendeten Wörter zu messen. Insgesamt wurden fünf Metriken evaluiert, von denen drei ausgewählt wurden.</p>
<div id="3c63fd94" class="cell" data-execution_count="19">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nltk.tokenize <span class="im">import</span> RegexpTokenizer</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Verwende RegexpTokenizer anstelle von word_tokenize</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>tokenizer <span class="op">=</span> RegexpTokenizer(<span class="vs">r'\w+'</span>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>file_path <span class="op">=</span> os.path.join(base_path, <span class="st">'completed_data.csv'</span>)</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.read_csv(file_path)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>data[<span class="st">'Lyrics'</span>] <span class="op">=</span> data[<span class="st">'Lyrics'</span>].astype(<span class="bu">str</span>)  <span class="co"># Um sicherzustellen, dass alle Lyrics als Strings vorliegen</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="type-token-ratio-ttr" class="level3">
<h3 class="anchored" data-anchor-id="type-token-ratio-ttr">Type-Token-Ratio (TTR)</h3>
<p>Die Type-Token-Ratio (TTR) misst die lexikalische Vielfalt eines Textes durch das Verhältnis zwischen der Anzahl der einzigartigen Wörter (Types) und der Gesamtanzahl der Wörter (Tokens). Ein hoher TTR-Wert deutet auf eine große Wortvielfalt hin, während ein niedriger Wert häufige Wiederholungen anzeigt. <span class="math display">\[
\text{TTR} = \frac{\text{Anzahl der eindeutigen Wörter (Types)}}{\text{Gesamtanzahl der Wörter (Tokens)}}
\]</span></p>
<div id="15d62614" class="cell" data-execution_count="20">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> ttr_calc(text):</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    tokens <span class="op">=</span> tokenizer.tokenize(text.lower())</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(tokens) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    unique_tokens <span class="op">=</span> <span class="bu">set</span>(tokens)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    ttr <span class="op">=</span> <span class="bu">len</span>(unique_tokens) <span class="op">/</span> <span class="bu">len</span>(tokens)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> ttr</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Wende die TTR-Berechnung auf die Lyrics-Spalte an</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>data[<span class="st">'TTR'</span>] <span class="op">=</span> data[<span class="st">'Lyrics'</span>].<span class="bu">apply</span>(ttr_calc)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Diese Metrik wurde aufgrund ihrer Einfachheit und Aussagekraft als ein Hauptmaß für die Analyse der Wortvielfalt in Songtexten ausgewählt. TTR bietet einen direkten Einblick in die sprachliche Vielfalt, die einen zentralen Aspekt der Textkomplexität darstellt. Die Wahl dieser Metrik basiert auf ihrer Fähigkeit, Unterschiede in der Verwendung von Wörtern klar darzustellen und so relevante Aussagen zur Komplexität der Songtexte zu ermöglichen.</p>
</section>
<section id="shannon-index-entropie" class="level3">
<h3 class="anchored" data-anchor-id="shannon-index-entropie">Shannon-Index (Entropie)</h3>
<p>Der Shannon-Index misst die Unvorhersehbarkeit und Gleichmäßigkeit der Wortverteilung in einem Text. Ein höherer Shannon-Wert deutet auf eine gleichmäßige Verteilung der Wörter hin, während ein niedriger Wert darauf hinweist, dass bestimmte Wörter im Text dominieren. <span class="math display">\[
H = - \sum p_i \cdot \log_2(p_i)
\]</span> wobei <span class="math inline">\(p_i\)</span> die Wahrscheinlichkeit des Auftretens jedes Wortes ist.</p>
<div id="3ec49b73" class="cell" data-execution_count="21">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> shannon_calc(text):</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    tokens <span class="op">=</span> tokenizer.tokenize(text.lower())</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    token_counts <span class="op">=</span> Counter(tokens)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    total_tokens <span class="op">=</span> <span class="bu">len</span>(tokens)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> total_tokens <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>    shannon_entropy <span class="op">=</span> <span class="op">-</span><span class="bu">sum</span>((count <span class="op">/</span> total_tokens) <span class="op">*</span> log(count <span class="op">/</span> total_tokens, <span class="dv">2</span>) <span class="cf">for</span> count <span class="kw">in</span> token_counts.values())</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> shannon_entropy</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Wende die Shannon-Berechnung auf die Lyrics-Spalte an</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>data[<span class="st">'Shannon'</span>] <span class="op">=</span> data[<span class="st">'Lyrics'</span>].<span class="bu">apply</span>(shannon_calc)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Im Vergleich zur TTR berücksichtigt der Shannon-Index nicht nur die Anzahl der unterschiedlichen Wörter, sondern auch deren Verteilungshäufigkeit. Dadurch bietet er eine tiefere Analyse der Textstruktur, indem er aufzeigt, ob die Wortverteilung ausgeglichen ist oder von wenigen Wörtern dominiert wird. Diese zusätzliche Dimension der Komplexitätsmessung, die sowohl die Vielfalt als auch die Gleichmäßigkeit erfasst, macht den Shannon-Index zu einer wichtigen Ergänzung der Analyse.</p>
</section>
<section id="automated-readability-index-ari" class="level3">
<h3 class="anchored" data-anchor-id="automated-readability-index-ari">Automated Readability Index (ARI)</h3>
<p>Der Automated Readability Index (ARI) bewertet die Lesbarkeit eines Textes basierend auf der Anzahl der Wörter, Zeichen und Sätze. Für die Berechnung wurden Satzzeichen wie Punkte, Fragezeichen und Ausrufezeichen als Satzgrenzen definiert, um stabile und vergleichbare Ergebnisse zu gewährleisten.</p>
<p><span class="math display">\[
\text{ARI} = 4.71 \cdot \left( \frac{\text{Anzahl der Zeichen}}{\text{Anzahl der Wörter}} \right) + 0.5 \cdot \left( \frac{\text{Anzahl der Wörter}}{\text{Anzahl der Sätze}} \right) - 21.43
\]</span></p>
<div id="cell-fig-ari-comp" class="cell" data-execution_count="22">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Standard-ARI-Berechnung (basierend auf Satzzeichen)</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> ari_calc(text):</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    words <span class="op">=</span> tokenizer.tokenize(text)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    num_words <span class="op">=</span> <span class="bu">len</span>(words)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    num_chars <span class="op">=</span> <span class="bu">sum</span>(<span class="bu">len</span>(word) <span class="cf">for</span> word <span class="kw">in</span> words)</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    num_sentences <span class="op">=</span> text.count(<span class="st">'.'</span>) <span class="op">+</span> text.count(<span class="st">'!'</span>) <span class="op">+</span> text.count(<span class="st">'?'</span>)</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> num_words <span class="op">==</span> <span class="dv">0</span> <span class="kw">or</span> num_sentences <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>    ari <span class="op">=</span> <span class="fl">4.71</span> <span class="op">*</span> (num_chars <span class="op">/</span> num_words) <span class="op">+</span> <span class="fl">0.5</span> <span class="op">*</span> (num_words <span class="op">/</span> num_sentences) <span class="op">-</span> <span class="fl">21.43</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> ari</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a><span class="co"># ARI-Berechnung basierend auf Strophen als Sätze</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> ari_strophes_as_sentences(text):</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>    words <span class="op">=</span> tokenizer.tokenize(text)</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>    num_words <span class="op">=</span> <span class="bu">len</span>(words)</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>    num_chars <span class="op">=</span> <span class="bu">sum</span>(<span class="bu">len</span>(word) <span class="cf">for</span> word <span class="kw">in</span> words)</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>    strophes <span class="op">=</span> [s <span class="cf">for</span> s <span class="kw">in</span> text.split(<span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>) <span class="cf">if</span> s.strip()]</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>    num_sentences <span class="op">=</span> <span class="bu">len</span>(strophes)</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> num_words <span class="op">==</span> <span class="dv">0</span> <span class="kw">or</span> num_sentences <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>    ari <span class="op">=</span> <span class="fl">4.71</span> <span class="op">*</span> (num_chars <span class="op">/</span> num_words) <span class="op">+</span> <span class="fl">0.5</span> <span class="op">*</span> (num_words <span class="op">/</span> num_sentences) <span class="op">-</span> <span class="fl">21.43</span></span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> ari</span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Funktionen anwenden und Ergebnisse speichern</span></span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a>data[<span class="st">'ARI'</span>] <span class="op">=</span> data[<span class="st">'Lyrics'</span>].<span class="bu">apply</span>(ari_calc)</span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a>data[<span class="st">'ARI_Strophes'</span>] <span class="op">=</span> data[<span class="st">'Lyrics'</span>].<span class="bu">apply</span>(ari_strophes_as_sentences)</span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Zeitreihenplot für "Strophes as Sentences" und "ARI (Punctuation)" erstellen</span></span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="st">'Year'</span> <span class="kw">in</span> data.columns:</span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Daten nach Jahr aggregieren und die mittleren ARI-Werte pro Jahr berechnen</span></span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a>    ari_by_year_filtered <span class="op">=</span> data.groupby(<span class="st">'Year'</span>)[[<span class="st">'ARI'</span>, <span class="st">'ARI_Strophes'</span>]].mean()</span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a>    plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a>    plt.plot(ari_by_year_filtered.index, ari_by_year_filtered[<span class="st">'ARI'</span>], label<span class="op">=</span><span class="st">'ARI (Punctuation)'</span>, color<span class="op">=</span><span class="st">'blue'</span>, marker<span class="op">=</span><span class="st">'o'</span>)</span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a>    plt.plot(ari_by_year_filtered.index, ari_by_year_filtered[<span class="st">'ARI_Strophes'</span>], label<span class="op">=</span><span class="st">'ARI (Strophes as Sentences)'</span>, color<span class="op">=</span><span class="st">'green'</span>, marker<span class="op">=</span><span class="st">'o'</span>)</span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-41"><a href="#cb21-41" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(<span class="st">'Year'</span>)</span>
<span id="cb21-42"><a href="#cb21-42" aria-hidden="true" tabindex="-1"></a>    plt.ylabel(<span class="st">'ARI Value (Mean)'</span>)</span>
<span id="cb21-43"><a href="#cb21-43" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="st">'Comparison of ARI (Punctuation) and ARI (Strophes as Sentences) Over Time'</span>)</span>
<span id="cb21-44"><a href="#cb21-44" aria-hidden="true" tabindex="-1"></a>    plt.legend()</span>
<span id="cb21-45"><a href="#cb21-45" aria-hidden="true" tabindex="-1"></a>    plt.grid(<span class="va">True</span>)</span>
<span id="cb21-46"><a href="#cb21-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-47"><a href="#cb21-47" aria-hidden="true" tabindex="-1"></a>    plt.show()</span>
<span id="cb21-48"><a href="#cb21-48" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb21-49"><a href="#cb21-49" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"The dataset doesn't have a 'Year' column for a time series plot."</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-ari-comp" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ari-comp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-ari-comp-output-1.png" width="816" height="523" class="figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ari-comp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2: Vergleich der durchschnittlichen ARI-Werte pro Jahr basierend auf Zeichensetzung (ARI) und Strophen als Sätze (ARI Strophen). Der Plot zeigt die Entwicklung beider Berechnungsmethoden zur Lesbarkeitsbewertung über den Zeitverlauf.
</figcaption>
</figure>
</div>
</div>
</div>
<div id="47a3a5b5" class="cell" data-execution_count="23">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Speichere die berechneten Werte in einer neuen Datei ab</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>data.to_csv(<span class="st">'../data/completed_data_calculations.csv'</span>, index<span class="op">=</span><span class="va">False</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Diese Methode wurde gegenüber einer alternativen Variante bevorzugt, die Strophen als Satzgrenzen nutzte, da die ungleichmäßige Struktur vieler Songs (z. B. kurze Zeilen oder häufige Strophenwechsel) in dieser Version zu starken Schwankungen führte(siehe <a href="#fig-ari-comp" class="quarto-xref">Abb.&nbsp;2</a>). Die Standardmethode erwies sich hingegen als konsistenter und besser geeignet für die Analyse von Songtexten.</p>
<p>Der ARI liefert eine wichtige Perspektive auf die strukturelle Komplexität der Texte und ergänzt die Metriken zur Messung der lexikalischen Vielfalt und Informationsdichte. Er wurde, aufgrund seiner Fähigkeit die Lesbarkeit präzise zu erfassen, als eine der Hauptmetriken ausgewählt.</p>
</section>
<section id="chao1--und-chao2-estimatoren" class="level3">
<h3 class="anchored" data-anchor-id="chao1--und-chao2-estimatoren">Chao1- und Chao2-Estimatoren</h3>
<p>Die Chao1- und Chao2-Estimatoren schätzen die versteckte Vielfalt eines Textes, indem sie seltene Wörter und Wortkombinationen besonders berücksichtigen. Chao1 fokussiert sich auf die Anzahl seltener Wörter, während Chao2 zusätzlich deren Kombinationen einbezieht.</p>
<p>Beide Metriken basieren auf Schätzungen und bieten theoretische Einblicke in die potenzielle Vielfalt eines erweiterten Textes. Da der Schwerpunkt dieser Analyse jedoch auf der tatsächlichen Verteilung und Nutzung der Wörter liegt, wurden Chao1 und Chao2 zugunsten direkterer Metriken wie TTR, Shannon-Index und ARI verworfen, die eine präzisere Analyse der realen Textkomplexität ermöglichen.</p>
</section>
<section id="zusammenfassung-der-metrikauswahl" class="level3">
<h3 class="anchored" data-anchor-id="zusammenfassung-der-metrikauswahl">Zusammenfassung der Metrikauswahl</h3>
<p>Die Kombination von TTR, Shannon-Index und ARI wurde gewählt, um eine umfassende Analyse der Songtext-Komplexität zu ermöglichen. TTR misst die Wortvielfalt, der Shannon-Index die Verteilung der Wörter, und ARI bewertet die Lesbarkeit der Texte. Diese drei Metriken bieten zusammen eine ausgewogene Betrachtung der sprachlichen und strukturellen Komplexität.</p>
<div id="186274fc" class="cell" data-execution_count="24">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gruppiere nach 'Year' und berechne den Mittelwert für jede Metrik</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>yearly_avg <span class="op">=</span> data.groupby(<span class="st">'Year'</span>).agg({</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'TTR'</span>: <span class="st">'mean'</span>,</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ARI'</span>: <span class="st">'mean'</span>,</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Shannon'</span>: <span class="st">'mean'</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>}).reset_index()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
</section>
<section id="auswertung-der-ergebnisse" class="level1">
<h1>Auswertung der Ergebnisse</h1>
<p>Hier werden die Ergebnisse der Zeitreihenanalyse zusammengefasst, Dabei wurden die durchschnittlichen Werte der Metriken jährlich aggregiert und genrespezifisch verglichen, um festzustellen, ob die Komplexität der Songtexte abgenommen hat und wie die Genres die Billboard Hot 100 beeinflusst haben und ob dieser Einfluss auch umgekehrt stattgefunden hat.</p>
<section id="metriken-der-billboard-hot-100" class="level2">
<h2 class="anchored" data-anchor-id="metriken-der-billboard-hot-100">Metriken der Billboard Hot 100</h2>
<div id="cell-fig-normalized" class="cell" data-execution_count="25">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> normalize(series):</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (series <span class="op">-</span> series.<span class="bu">min</span>()) <span class="op">/</span> (series.<span class="bu">max</span>() <span class="op">-</span> series.<span class="bu">min</span>())</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Normalisiere die Werte</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>yearly_avg[<span class="st">'TTR_normalized'</span>] <span class="op">=</span> normalize(yearly_avg[<span class="st">'TTR'</span>])</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>yearly_avg[<span class="st">'ARI_normalized'</span>] <span class="op">=</span> normalize(yearly_avg[<span class="st">'ARI'</span>])</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>yearly_avg[<span class="st">'Shannon_normalized'</span>] <span class="op">=</span> normalize(yearly_avg[<span class="st">'Shannon'</span>])</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>plt.plot(yearly_avg[<span class="st">'Year'</span>], yearly_avg[<span class="st">'TTR_normalized'</span>], label<span class="op">=</span><span class="st">'TTR (normalisiert)'</span>, color<span class="op">=</span><span class="st">'#ff7f0e'</span>, marker<span class="op">=</span><span class="st">'o'</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>plt.plot(yearly_avg[<span class="st">'Year'</span>], yearly_avg[<span class="st">'ARI_normalized'</span>], label<span class="op">=</span><span class="st">'ARI (normalisiert)'</span>, color<span class="op">=</span><span class="st">'#1f77b4'</span>, marker<span class="op">=</span><span class="st">'o'</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>plt.plot(yearly_avg[<span class="st">'Year'</span>], yearly_avg[<span class="st">'Shannon_normalized'</span>], label<span class="op">=</span><span class="st">'Shannon (normalisiert)'</span>, color<span class="op">=</span><span class="st">'green'</span>, marker<span class="op">=</span><span class="st">'o'</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Jahr'</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Normalisierter Wert'</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Normalisierte TTR, ARI und Shannon-Werte pro Jahr'</span>, fontsize<span class="op">=</span><span class="dv">16</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, alpha<span class="op">=</span><span class="fl">0.6</span>)</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>plt.legend(fontsize<span class="op">=</span><span class="dv">12</span>, loc<span class="op">=</span><span class="st">'best'</span>)</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-normalized" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-normalized-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-normalized-output-1.png" width="950" height="566" class="figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-normalized-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;3: Die Grafik zeigt die Entwicklung der normalisierten Werte von TTR (orange), ARI (blau) und Shannon-Index (grün) über die Jahre hinweg, basierend auf den “Billboard Hot 100”. Abgebildet sind die lexikalische Vielfalt (TTR), die Lesbarkeit (ARI) und die Wortverteilung (Shannon) der Songtexte von 1950 bis 2023.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Die Analyse der TTR, welche die lexikalische Vielfalt in den Songtexten über die Jahre hinweg widerspiegelt, repräsentiert sich mit einer stabilen Entwicklung in den 1950er Jahren, was folgern lässt, dass sich die Verwendung der unterschiedlichen Wörter in der Zeit wenig verändert hat. Ab den 1960er Jahren ist jedoch ein deutlicher Anstieg zu verzeichnen, der seinen Höhepunkt um 1965 erreicht. Dies kann auf eine Phase kreativer Experimente hinweisen, in der abwechslungsreichere Wörter in den Songtexten verwendet wurden. Ab 1965 ist ein Rückgang der TTR zu erkennen, bis in die frühen 2000er Jahre. In dieser Phase wurden Songs potenziell immer weniger vielfältig. Der Rückgang des Vokabulars lässt auf eine Vereinfachung der Texte schließen. In den 2000er erlebt die TTR wieder einen Aufwärtstrend, was auf eine steigende lexikalische Vielfalt hinweist. Dieser Trend hielt aber nur bis 2017 an. Von da an begibt die TTR sich auf einen Abwärtstrend, den sie bis einschließlich 2023 beibehält, was auf einen erneuten Trend zu einem weniger umfangreichen Vokabular schließen lässt. Insgesamt ist die TTR seit 1950 gefallen.</p>
<p>Der Average Readability Index (ARI) beginnt in den frühen 1950er Jahren mit niedrigen Werten. Dies lässt auf eine geringe strukturelle Komplexität in dieser Zeit deuten. Ein Tiefpunkt wird um das Jahr 1960 erreicht, was darauf schließen lässt, dass Songtexte aus dieser Zeit besonders leicht zu lesen waren. Ab den 1960er Jahren gab es aber einen Aufwärtstrend und man konnte einen Anstieg des ARI verfolgen. Dieser Anstieg der Textkomplexität wird fortgeführt bis einschließlich 1990. 1990 und zwischen 2000 und 2010 gab es vermehrt starke Spikes in dem ARI, was darauf hindeutet, dass die Texte mehr und mehr an Komplexität gewinnen. Diese Phase flachte aber schnell wieder ab, jedoch bleibt der ARI seit 2010 auf einem höheren Niveau, was darauf schließen lässt, dass die Komplexität der Texte im Vergleich zu den früheren Jahrzehnten angestiegen ist. Der Stand von 2023 liegt nahe an den historischen Höchstwerten und zeigt, dass die Songtexte über die Zeit hinweg eine insgesamt höhere Komplexität erreicht haben.</p>
<p>Der Shannon-Index zeigt eine ähnliche Entwicklung wie der ARI. In den 1950er Jahren bis 1970er Jahren steigt der Wert kontinuierlich an, was auf eine zunehmende Vielfalt in der Wortverteilung schließen lässt. Zwischen 1977 und 1983 fällt der Index jedoch in eine Tiefphase, was darauf schließen lässt, dass die Texte in dieser Zeit eine geringere Vielfalt aufweisen und von häufig wiederholten Wörtern dominiert wurden. Nach dieser Phase erholt sich der Index wieder und bleibt bis in die 2000er Jahre stabil. Seit 2020 zeigt sich allerdings ein Rückgang des Shannon-Index, was auf einen Rückgang der Vielfalt in der Wortverteilung hindeutet. Dieser Rückgang unterscheidet sich von der Entwicklung des ARI, der seit 2020 weiterhin ansteigt. Während der ARI auf eine zunehmende strukturelle Komplexität der Songtexte hinweist, deutet der sinkende Shannon-Index darauf hin, dass die Vielfalt der verwendeten Wörter abnimmt und bestimmte Wörter häufiger wiederholt werden.</p>
<div id="ff167c14" class="cell" data-execution_count="26">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_genre_file(filename, genre):</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    output_filename <span class="op">=</span> <span class="ss">f"../data/</span><span class="sc">{</span>genre<span class="sc">}</span><span class="ss">_calculations.csv"</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> os.path.exists(output_filename):</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"File </span><span class="sc">{</span>output_filename<span class="sc">}</span><span class="ss"> already exists. Skipping."</span>)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> pd.read_csv(filename)</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Berechnet TTR, ARI und Shannon für jeden Songtext</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>    data[<span class="st">'TTR'</span>] <span class="op">=</span> data[<span class="st">'Lyrics'</span>].<span class="bu">apply</span>(ttr_calc)</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>    data[<span class="st">'ARI'</span>] <span class="op">=</span> data[<span class="st">'Lyrics'</span>].<span class="bu">apply</span>(ari_calc)</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>    data[<span class="st">'Shannon'</span>] <span class="op">=</span> data[<span class="st">'Lyrics'</span>].<span class="bu">apply</span>(shannon_calc)</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Speichert die Berechnungen in einer neuen Datei im Hauptordner</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>    data.to_csv(output_filename, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Processed and saved: </span><span class="sc">{</span>output_filename<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Liste der Genre-Dateien und ihrer Namen</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>genre_files <span class="op">=</span> [</span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"../data/top_100_songs_country_1950_to_2023_with_lyrics.csv"</span>, <span class="st">"country"</span>),</span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"../data/top_100_songs_pop_1950_to_2023_with_lyrics.csv"</span>, <span class="st">"pop"</span>),</span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"../data/top_100_songs_r&amp;b_1950_to_2023_with_lyrics.csv"</span>, <span class="st">"r&amp;b"</span>),</span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"../data/top_100_songs_rap_1950_to_2023_with_lyrics.csv"</span>, <span class="st">"rap"</span>),</span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"../data/top_100_songs_rock_1950_to_2023_with_lyrics.csv"</span>, <span class="st">"rock"</span>)</span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> filename, genre <span class="kw">in</span> genre_files:</span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a>    process_genre_file(filename, genre)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="analyse-der-genres-im-vergleich-zur-billboard-hot-100" class="level2">
<h2 class="anchored" data-anchor-id="analyse-der-genres-im-vergleich-zur-billboard-hot-100">Analyse der Genres im Vergleich zur Billboard Hot 100</h2>
<p>In der folgenden Analyse werden die Unterschiede und Gemeinsamkeiten zwischen den einzelnen Genres im Vergleich zu den allgemeinen Trends der Billboard Hot 100 Songs untersucht. Der Fokus liegt dabei auf der Frage, ob und wie stark die spezifischen Trends der Genres die allgemeinen Entwicklungen in der lexikalischen Vielfalt (TTR), der strukturellen Komplexität (ARI) und der Wortverteilung (Shannon-Index) beeinflusst haben. Ziel ist es, zu untersuchen, ob die einzelnen Genres den Gesamtdurchschnitt geprägt oder ob sich signifikante Abweichungen von den Billboard Hot 100 Trends in den genrespezifischen Entwicklungen zeigen.</p>
<div id="cell-fig-ttr" class="cell" data-execution_count="28">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objs <span class="im">as</span> go</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> plotly.offline <span class="im">import</span> init_notebook_mode, iplot</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>init_notebook_mode(connected<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>main_yearly_avg <span class="op">=</span> data.groupby(<span class="st">'Year'</span>).agg({</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'TTR'</span>: <span class="st">'mean'</span>,</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ARI'</span>: <span class="st">'mean'</span>,</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Shannon'</span>: <span class="st">'mean'</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>}).reset_index()</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>genre_files <span class="op">=</span> [<span class="st">"country"</span>, <span class="st">"pop"</span>, <span class="st">"r&amp;b"</span>, <span class="st">"rap"</span>, <span class="st">"rock"</span>]</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> compute_yearly_averages(genre):</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>    filename <span class="op">=</span> <span class="ss">f"../data/</span><span class="sc">{</span>genre<span class="sc">}</span><span class="ss">_calculations.csv"</span></span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>    genre_data <span class="op">=</span> pd.read_csv(filename)</span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>    yearly_avg <span class="op">=</span> genre_data.groupby(<span class="st">'Year'</span>).agg({</span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>        <span class="st">'TTR'</span>: <span class="st">'mean'</span>,</span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a>        <span class="st">'ARI'</span>: <span class="st">'mean'</span>,</span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Shannon'</span>: <span class="st">'mean'</span></span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a>    }).reset_index()</span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> yearly_avg</span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a>genre_yearly_avg <span class="op">=</span> {}</span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> genre <span class="kw">in</span> genre_files:</span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a>    genre_yearly_avg[genre] <span class="op">=</span> compute_yearly_averages(genre)</span>
<span id="cb26-31"><a href="#cb26-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-32"><a href="#cb26-32" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_estimator_plotly(estimator_name):</span>
<span id="cb26-33"><a href="#cb26-33" aria-hidden="true" tabindex="-1"></a>    traces <span class="op">=</span> []</span>
<span id="cb26-34"><a href="#cb26-34" aria-hidden="true" tabindex="-1"></a>    trace_main <span class="op">=</span> go.Scatter(</span>
<span id="cb26-35"><a href="#cb26-35" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>main_yearly_avg[<span class="st">'Year'</span>],</span>
<span id="cb26-36"><a href="#cb26-36" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>main_yearly_avg[estimator_name],</span>
<span id="cb26-37"><a href="#cb26-37" aria-hidden="true" tabindex="-1"></a>        mode<span class="op">=</span><span class="st">'lines+markers'</span>,</span>
<span id="cb26-38"><a href="#cb26-38" aria-hidden="true" tabindex="-1"></a>        name<span class="op">=</span><span class="st">'Hot 100'</span>, </span>
<span id="cb26-39"><a href="#cb26-39" aria-hidden="true" tabindex="-1"></a>        line<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">'black'</span>)</span>
<span id="cb26-40"><a href="#cb26-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-41"><a href="#cb26-41" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb26-42"><a href="#cb26-42" aria-hidden="true" tabindex="-1"></a>    traces.append(trace_main)</span>
<span id="cb26-43"><a href="#cb26-43" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb26-44"><a href="#cb26-44" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> genre <span class="kw">in</span> genre_files:</span>
<span id="cb26-45"><a href="#cb26-45" aria-hidden="true" tabindex="-1"></a>        yearly_avg <span class="op">=</span> genre_yearly_avg[genre]</span>
<span id="cb26-46"><a href="#cb26-46" aria-hidden="true" tabindex="-1"></a>        trace <span class="op">=</span> go.Scatter(</span>
<span id="cb26-47"><a href="#cb26-47" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span>yearly_avg[<span class="st">'Year'</span>],</span>
<span id="cb26-48"><a href="#cb26-48" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span>yearly_avg[estimator_name],</span>
<span id="cb26-49"><a href="#cb26-49" aria-hidden="true" tabindex="-1"></a>            mode<span class="op">=</span><span class="st">'lines+markers'</span>,</span>
<span id="cb26-50"><a href="#cb26-50" aria-hidden="true" tabindex="-1"></a>            name<span class="op">=</span>genre.capitalize()</span>
<span id="cb26-51"><a href="#cb26-51" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb26-52"><a href="#cb26-52" aria-hidden="true" tabindex="-1"></a>        traces.append(trace)</span>
<span id="cb26-53"><a href="#cb26-53" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb26-54"><a href="#cb26-54" aria-hidden="true" tabindex="-1"></a>    layout <span class="op">=</span> go.Layout(</span>
<span id="cb26-55"><a href="#cb26-55" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span><span class="ss">f'</span><span class="sc">{</span>estimator_name<span class="sc">}</span><span class="ss"> Average by Year for All Genres'</span>,</span>
<span id="cb26-56"><a href="#cb26-56" aria-hidden="true" tabindex="-1"></a>        xaxis<span class="op">=</span><span class="bu">dict</span>(title<span class="op">=</span><span class="st">'Year'</span>),</span>
<span id="cb26-57"><a href="#cb26-57" aria-hidden="true" tabindex="-1"></a>        yaxis<span class="op">=</span><span class="bu">dict</span>(title<span class="op">=</span><span class="ss">f'</span><span class="sc">{</span>estimator_name<span class="sc">}</span><span class="ss"> Average'</span>),</span>
<span id="cb26-58"><a href="#cb26-58" aria-hidden="true" tabindex="-1"></a>        hovermode<span class="op">=</span><span class="st">'closest'</span></span>
<span id="cb26-59"><a href="#cb26-59" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb26-60"><a href="#cb26-60" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb26-61"><a href="#cb26-61" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> go.Figure(data<span class="op">=</span>traces, layout<span class="op">=</span>layout)</span>
<span id="cb26-62"><a href="#cb26-62" aria-hidden="true" tabindex="-1"></a>    iplot(fig)</span>
<span id="cb26-63"><a href="#cb26-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-64"><a href="#cb26-64" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot TTR</span></span>
<span id="cb26-65"><a href="#cb26-65" aria-hidden="true" tabindex="-1"></a>plot_estimator_plotly(<span class="st">'TTR'</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-ttr" class="cell-output cell-output-display quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ttr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>                            <div id="2334569b-6f91-4e69-9ae2-aa405740dd84" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("2334569b-6f91-4e69-9ae2-aa405740dd84")) {                    Plotly.newPlot(                        "2334569b-6f91-4e69-9ae2-aa405740dd84",                        [{"line":{"color":"black"},"mode":"lines+markers","name":"Hot 100","x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[0.4154454196451525,0.41171268354959445,0.4154454196451525,0.41299937033507605,0.41299937033507605,0.41171268354959445,0.41299937033507605,0.41171268354959445,0.3895632261615996,0.42523939886504836,0.42095819028692544,0.4183652973367012,0.430449461499407,0.38358650088524326,0.39542304954840685,0.4491549598225872,0.4129001426561889,0.4039583189654714,0.3996756387239937,0.3885414684968195,0.396552740291488,0.39906474141477605,0.37305870261354196,0.40479657762660554,0.37159039258057946,0.36216886453872466,0.39257422378015977,0.38103536140635735,0.349793583834359,0.3654675750539056,0.35979336997901107,0.3646281455886878,0.3588124725501368,0.3500423565190866,0.35648044042326327,0.3618806117085997,0.3419667727011043,0.3535876902423854,0.3430851207024321,0.35068594503076883,0.3411719979823239,0.3400366633255258,0.33389720697640507,0.3426107741003296,0.34330039132008355,0.3435430599074867,0.36424160804272687,0.32704810081732666,0.3569178489748893,0.3370486800120819,0.33978617779549886,0.34419866696687423,0.3424294788652067,0.3503320011699597,0.3646373555528103,0.36190334361663357,0.3465836615246174,0.33962308809705044,0.3316231009301828,0.34258507528834015,0.36477534293880814,0.3557207489270315,0.3619937826033276,0.36794494112186243,0.36495619145369546,0.365730154406403,0.3833684877765338,0.4052359383639987,0.4103148623339132,0.37374894269440095,0.3976297642027722,0.3802823612600206,0.3765969115106374,0.3670511165559444],"type":"scatter"},{"mode":"lines+markers","name":"Country","x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[0.4175951550998827,0.4175951550998827,0.4175951550998827,0.4175951550998827,0.4175951550998827,0.4175951550998827,0.4175951550998827,0.4175951550998827,0.4216080921358125,0.45029858962046515,0.45180546159423185,0.4535922817842621,0.3842848328507661,0.4358402924608698,0.45057250637957863,0.4024875227412368,0.4466380365950298,0.4016164931340313,0.4141661701590514,0.40526589439418925,0.4258485205228315,0.4043775884384067,0.4081479778047,0.3919763388797284,0.41758306196631784,0.4256432241411807,0.3968286206710804,0.39048140563975126,0.38225597032338005,0.38242842615721356,0.41045233328581837,0.3881049861627967,0.39022382385580245,0.40489085381458106,0.4129601900111037,0.4138380230069357,0.39061677992583127,0.4068293139876606,0.4168966366161827,0.4243633827959635,0.43162444463634314,0.4283965626440117,0.43171257802118634,0.44108415144584134,0.43669578839317064,0.4274238768164709,0.4210781723970113,0.4205403195094576,0.4374149583159051,0.4288723664668288,0.4270824193062607,0.42600284930021837,0.42666205309546074,0.4274548690415704,0.4399198851013241,0.43108005672318905,0.4307738307160654,0.4288034631043914,0.4136100847730261,0.4171738570029862,0.4081894858142888,0.3827616507264692,0.3954316399229875,0.3668404214097802,0.3849717536373421,0.3657406198879944,0.3809848664411044,0.37623553242198904,0.36198747392190805,0.3769071340262323,0.3699682792873048,0.383775427375961,0.38596147300610034,0.39436063714960007],"type":"scatter"},{"mode":"lines+markers","name":"Pop","x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33282890155914796,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.3482051223811484,0.33432335020491377,0.33454253951440743,0.33467004823490426,0.3318774131839601,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.33432335020491377,0.34001643976183765,0.32293697689763473,0.3270046794435742,0.3757719322495463,0.3271764281893804,0.3530922687105101,0.3372234912487495,0.30015591459308577,0.2942791922535905,0.3125244282201821,0.3205898621806582,0.34842583369692415,0.356560022155328,0.3254860225289567,0.34433910644927823,0.3120119053808193,0.30092697318197886,0.3294680382299297,0.32478618690939415,0.3206211514639933,0.3630218800838667,0.31453121235228726,0.37064693206473265,0.33649009176696737,0.367894103686967,0.4048950967910521,0.4442066925163796,0.3599899896877468,0.44233743908942147,0.3601720811033475,0.3756112231763512,0.33831627828910704],"type":"scatter"},{"mode":"lines+markers","name":"R&b","x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[0.3734298936114786,0.3734298936114786,0.3734298936114786,0.3734298936114786,0.3734298936114786,0.3734298936114786,0.3734298936114786,0.37287393519275486,0.40306594548030117,0.47906443911371915,0.4558099988757361,0.33940634691309196,0.34593412154625464,0.395766063640996,0.3931793853504081,0.3905266723488785,0.3562662776469568,0.40028589410476106,0.3992983010696955,0.3754803003116341,0.36498775333187,0.3834386107348781,0.34423309959901766,0.37373632734966256,0.34695260161598,0.37684606180106056,0.3527317473178393,0.34081306993693244,0.2249134948096885,0.31455116625906526,0.3555101596062536,0.321188620857693,0.34354102230839534,0.3551458621545081,0.3269223239331342,0.32458460179261883,0.35193715476823173,0.35459070343133425,0.34503138180228315,0.3650004750278655,0.3506926824906385,0.36987773811737734,0.3458855076286887,0.33638402043923815,0.3293170548965201,0.35594177722215364,0.37416067762123084,0.36804563425920767,0.3216174969400908,0.33697416713141126,0.3183929513336219,0.35533946933678806,0.3622045688949077,0.34615532222661016,0.35962472796289413,0.33696376774435965,0.31911978154637627,0.32853660792633804,0.323673834886064,0.31757698747846064,0.3781775959648994,0.35827853784173136,0.39341349987680657,0.42574162562086415,0.36626642814766647,0.365125637139523,0.37161145352894015,0.4687074955151251,0.41796774887820637,0.4039231416388811,0.38408651396800636,0.4191118236958741,0.3902195941908983,0.3660727946783684],"type":"scatter"},{"mode":"lines+markers","name":"Rap","x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[0.4129958662464991,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.41690601483795914,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.41690601483795914,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.41690601483795914,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.4129958662464991,0.40943906857632095,0.40943906857632095,0.4166808338303442,0.4255548221434969,0.4175131888955193,0.39260135288102027,0.3832651898372142,0.3767643331636028,0.41208982098523367,0.4199118053604773,0.42366651607007283,0.41300264483345367,0.41897049582274637,0.42094638020868674,0.409811539760608,0.3891481912865961,0.35153381663368544,0.34392990857016087,0.38690130344880636,0.3243567436003489,0.34560786267807964,0.3878808270082554,0.347509710863554,0.42373632649179327,0.379088017542045,0.39233590930944157,0.4192268168786129,0.372030084536463,0.3948372217752425,0.380985818787492,0.5161306034078395,0.43574052118662504,0.38607829155552503,0.3994369048319082,0.45889492295901235,0.38965637380736295,0.3796607671419609],"type":"scatter"},{"mode":"lines+markers","name":"Rock","x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.3520408221440556,0.37601447931932763,0.36416007028582786,0.33707393620667475,0.36342225496206126,0.34500905665858667,0.35060042231387506,0.3445912612457935,0.3570206810870633,0.34265736909817524,0.3427589561376027,0.33534743154485097,0.38172056556958345,0.37204971287771443,0.3763115716518188,0.4046963312300511],"type":"scatter"}],                        {"hovermode":"closest","template":{"data":{"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"title":{"text":"TTR Average by Year for All Genres"},"xaxis":{"title":{"text":"Year"}},"yaxis":{"title":{"text":"TTR Average"}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('2334569b-6f91-4e69-9ae2-aa405740dd84');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ttr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;4: Die Grafik zeigt die Entwicklung der lexikalischen Vielfalt (TTR) über die Jahre hinweg für die Billboard Hot 100 Charts im Vergleich zu verschiedenen Musikgenres (Pop, Rock, Rap, R&amp;B und Country). Sie veranschaulicht, wie sich die Wortvielfalt in den Songtexten von 1950 bis 2023 entwickelt hat.
</figcaption>
</figure>
</div>
</div>
<p>Pop-Songs lagen überwiegend unter dem TTR-Durschnitt der Billboard 100, was auf ihren Beitrag zum Rückgang der lexikalischen Vielfalt deutet. Ab 2018 verzeichnet sie einen kurzzeitigen Anstieg über den Billboard-Durschnitt, der sich bis 2023 wieder umkehrte. Pop folgte somit insgesamt dem Abwärtstrend des Billboard-TTR und trug zur negativen Entwicklung bei.</p>
<p>Rap startete mit einem höheren TTR als die Billboard-Charts und blieb bis 2005 über dem Durchschnitt. Danach näherten sich die Werte dem allgemeinen Billboard-TTR an, blieben aber zumeist darüber. Der sinkende TTR des Rap-Genres bis 2023 spiegelt den allgemeinen Abwärtstrend wider, was zeigt, dass Rap ähnlich wie Pop einen signifikanten Einfluss auf die allgemeine Entwicklung des Billboard-TTR hatte.</p>
<p>Rock zeigte ab 2008 zunächst TTR-Werte unter dem Billboard-Durchschnitt. Doch in den letzten Jahren, insbesondere ab 2023, verzeichnete Rock einen steigenden Trend und übertraf sowohl Pop als auch den allgemeinen Billboard-TTR. Rock hat sich somit entgegen dem allgemeinen Abwärtstrend entwickelt, was auf einen positiven Einfluss auf die lexikalische Vielfalt hinweist, der sich jedoch weniger stark auf die Billboard Hot 100 insgesamt auswirkte.</p>
<p>R&amp;B begann mit einem höheren TTR als die Billboard-Charts, folgte jedoch bald den allgemeinen Auf- und Abwärtstrends der Billboard Hot 100. Diese parallele Entwicklung verdeutlicht, dass R&amp;B einen starken Einfluss auf den Verlauf der Billboard-Charts hatte, da die Trends des Genres eng mit den allgemeinen Bewegungen der Billboard Hot 100 verknüpft waren und somit maßgeblich zu deren Entwicklung beitrugen.</p>
<p>Country verlief zunächst parallel zu den Billboard-Werten, bevor es in den 1970er Jahren einen eigenständigen, steigenden Trend entwickelte. Dieser positive Trend setzte sich bis in die 2020er Jahre fort, während der Billboard-TTR weiter fiel. Dies zeigt, dass Country sich zunehmend von den allgemeinen Billboard-Trends abkoppelte und daher weniger Einfluss auf deren Verlauf hatte.</p>
<div id="cell-fig-ARI" class="cell" data-execution_count="29">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot ARI</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>plot_estimator_plotly(<span class="st">'ARI'</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-ari" class="cell-output cell-output-display quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ari-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>                            <div id="794f4086-a3c5-4ff2-a111-9009bb223659" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("794f4086-a3c5-4ff2-a111-9009bb223659")) {                    Plotly.newPlot(                        "794f4086-a3c5-4ff2-a111-9009bb223659",                        [{"line":{"color":"black"},"mode":"lines+markers","name":"Hot 100","x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[19.735226293896996,19.756588742571875,19.735226293896996,19.735226293896996,19.735226293896996,19.756588742571875,19.735226293896996,19.756588742571875,23.441396318342637,16.94921293727634,14.735958417715077,18.520831950962695,25.9131320790351,20.93095731185951,28.27265877539287,24.17342425582942,18.221355932422046,23.518461392383383,27.958854648981376,25.84854407725062,34.25949983782873,32.57467633930984,23.035091239255394,28.4983996643475,24.291116119727427,28.157250242098932,43.00362165242909,30.396181245864614,32.36253228899691,29.462228600083595,30.375726391567422,30.972585893361547,22.842037403293503,39.43901494547502,42.36448264037367,40.54853166935576,46.906951991083446,32.04865855501071,45.67054157684161,40.08765110477751,31.37927338549875,60.131229088647274,43.13624480942746,34.5135449505166,30.296331722168997,37.66164436146838,31.62446032041945,43.40384043694083,40.9676914914218,34.137357728190224,44.32123458683045,45.95947593711481,47.15654381067972,32.94474361276684,50.389898496126946,60.08637121621551,49.156878926726094,56.57657409399346,59.802141995269984,40.89843193056076,53.40903108829402,49.489900879376734,43.98851359015717,22.85826377155225,50.94134427671423,50.54836312547656,46.737417814372854,40.49106103160805,46.843666407312604,43.253741454762086,42.794454021676515,46.467041310848124,46.19945501039215,53.76191771788685],"type":"scatter"},{"mode":"lines+markers","name":"Country","x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[7.304149233810526,7.304149233810526,7.304149233810526,7.304149233810526,7.304149233810526,7.304149233810526,7.304149233810526,7.304149233810526,22.10179323845942,30.140616237390013,14.191361461947722,14.50294821252123,32.80860526451122,22.167882294091914,11.949216617287897,15.705631581042274,15.357508851910247,20.848428719074214,17.55952859398515,32.90426042744764,15.998536105874956,23.049035181888673,15.361756782600068,16.829351946255418,25.333218185924466,23.97903297579808,27.008426389849408,15.291862567227295,14.409571470647332,17.470278371248686,23.913800014086274,22.284064017913202,24.65508553381604,27.493455884971638,18.948160324024997,24.743795360407947,24.491890871659674,26.880639601489747,42.53187822171577,18.454196561997776,14.551834426587801,14.917009905496293,16.14451862491935,22.20131641469606,24.96735630748161,19.965415824092798,16.696821589011652,23.051247140531927,23.58282259187063,17.868141990919536,18.474149106776906,17.022647132391256,32.23746122092793,22.54741215612842,19.843762491206185,29.808105234813112,30.159362816514392,29.028828141003018,29.15979703698735,26.22460550107177,45.16215184373053,26.608320072742742,28.636245434962827,47.006404206847556,29.38981988092437,26.091417989087375,28.736150374131007,26.091397083533714,44.028292959933225,24.903250020611072,26.28518969646679,28.663866644149127,27.414683853659504,38.253634730207594],"type":"scatter"},{"mode":"lines+markers","name":"Pop","x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,21.9736428701872,24.212353992395705,24.212353992395705,24.212353992395705,26.451565284404595,24.212353992395705,23.22005035986764,23.290928605039714,26.35416676422268,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,24.212353992395705,29.33753237795366,40.98675345907694,34.922188627535945,38.906897427757606,31.181326871144364,32.40962561068677,35.69382806763075,36.814181210299964,47.86997374105956,59.826637763019924,53.47329692135297,41.79844111443257,32.211559897791226,70.66256866617034,60.23913826406384,57.986761224710264,49.71907939256682,43.25711232545054,75.47184481503038,47.838964496332686,37.460461844725685,18.67067668034366,47.163381625866634,58.25194289238258,39.151131571108856,49.169885997348864,33.6576956271495,43.56818255827918,41.06070432326335,36.966096720213926,59.92718634633136,67.53343467440239],"type":"scatter"},{"mode":"lines+markers","name":"R&b","x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[9.233325495314883,9.233325495314883,9.233325495314883,9.233325495314883,9.233325495314883,9.233325495314883,9.233325495314883,8.62571362043106,23.423343948863867,9.337172656982089,21.432324597084836,16.42550760485447,37.68558816790565,21.774984736338837,17.5167138954177,29.69942319733763,34.11016950665928,23.531983443029468,24.477476194377125,20.819489360872165,33.79322344765122,32.93130341288063,38.645226734999895,31.729746846173228,22.484851060031204,30.279960879883994,39.386675885154624,33.07313694634343,-3.92238077328118,51.249683666167144,36.83701972535013,42.10917699779702,38.17214899344881,30.790807417259717,35.43758859257172,34.67254451325281,30.262340324869722,38.124810789524574,32.057261790624416,31.088832267371668,46.807237600350504,58.935498054569194,48.5471264057428,39.86454790854308,41.44059128359036,47.25956669917414,40.52160566776131,38.755627858916306,60.600693149946785,45.204232198867075,51.808214070843064,42.601244373849845,53.654478853789314,40.161325978044935,52.58195108810141,77.05834390353475,59.55493974295399,61.28427975577438,62.03245109994,49.533875470442545,43.957652761366006,58.97374582738351,47.28676520408663,26.12072430860242,49.18184561213543,71.84723785193087,52.887047032581016,47.03928698258881,71.58953187405506,57.400405414892944,76.69756145966771,74.90425421310026,63.62089110388114,77.7257413215584],"type":"scatter"},{"mode":"lines+markers","name":"Rap","x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[61.62493974872218,61.62493974872218,61.62493974872218,61.62493974872218,61.62493974872218,61.62493974872218,61.62493974872218,61.62493974872218,63.607557895846526,61.62493974872218,61.62493974872218,61.62493974872218,61.62493974872218,63.607557895846526,61.62493974872218,61.62493974872218,61.62493974872218,61.62493974872218,61.62493974872218,61.62493974872218,61.62493974872218,61.62493974872218,61.62493974872218,61.62493974872218,61.62493974872218,61.62493974872218,61.62493974872218,63.607557895846526,61.62493974872218,61.62493974872218,61.62493974872218,61.62493974872218,61.62493974872218,61.62493974872218,61.62493974872218,61.62493974872218,61.62493974872218,58.853569717512215,58.853569717512215,41.517681071273806,62.95325702796394,46.1453505713928,60.188932884220606,26.529069980228357,52.44591412124516,35.06501265579458,43.34755925063701,40.15090730422352,44.97163394982281,22.158951411339554,41.73827281580605,21.008220693027653,67.24680618779486,45.03908951920692,94.71335426345495,92.00338203426867,69.61771388580694,74.26059932500961,48.62117292485911,43.31133066510096,18.938421598691125,43.6160538203522,87.44305943189754,35.77732922862505,46.05947321298398,59.08849454180258,57.391920640813375,50.92431986478507,51.82161735748336,58.024838369892876,74.13402257154236,72.5446081774809,88.7031768693713,70.0638864865451],"type":"scatter"},{"mode":"lines+markers","name":"Rock","x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,37.118918881310755,30.415012419864492,42.899244787797905,48.21247385623868,24.297914619287653,28.356521780016596,32.36462339785309,36.561202543732804,35.4726233098751,62.497022162760864,43.97205259672425,42.696608921523996,45.11835217008528,38.52333818697767,32.903561636375905,42.8181708196611],"type":"scatter"}],                        {"hovermode":"closest","template":{"data":{"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"title":{"text":"ARI Average by Year for All Genres"},"xaxis":{"title":{"text":"Year"}},"yaxis":{"title":{"text":"ARI Average"}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('794f4086-a3c5-4ff2-a111-9009bb223659');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ari-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;5: Die Grafik zeigt die Entwicklung der strukturellen Komplexität (ARI) über die Jahre hinweg für die Billboard Hot 100 Charts im Vergleich zu verschiedenen Musikgenres (Pop, Rock, Rap, R&amp;B und Country). Sie veranschaulicht, wie sich die Lesbarkeit der Songtexte von 1950 bis 2023 verändert hat.
</figcaption>
</figure>
</div>
</div>
<p>Sowohl Pop als auch Rock folgen weitgehend den ARI-Trends der Billboard Hot 100, die eine zunehmende Informationsdichte und Textkomplexität in den Songtexten widerspiegeln. Ab 2021 hebt sich Pop jedoch stark von den Billboard Hot 100 ab, indem es eine höhere ARI und somit komplexere Texte aufweist. Rock bleibt hingegen knapp unter dem ARI-Durchschnitt der Billboard Hot 100, was bedeutet, dass die Textkomplexität in Rock-Songs zwar ansteigt, aber nicht ganz das Niveau der Billboard Hot 100 erreicht.</p>
<p>Rap und R&amp;B zeigen ebenfalls eine enge Verbindung zu den allgemeinen Trends der Billboard Hot 100, weichen jedoch häufig positiv ab. Rap zeigt dabei stärkere Abweichungen als R&amp;B. Seit 2013 haben sich beide Genres zunehmend von den Billboard-Trends entfernt und zeigen einen positiven Verlauf, was darauf hindeutet, dass sie möglicherweise einen positiven Einfluss auf die allgemeine Entwicklung der Billboard Hot 100 hatten. Gegen 2023 zeigt Rap einen Abwärtstrend, während R&amp;B weiterhin ansteigt. Beide Genres bleiben jedoch nahe beieinander, während die Billboard Hot 100 ebenfalls einen leichten Aufwärtstrend verzeichnet, allerdings mit etwas Abstand.</p>
<p>Country folgt grundsätzlich den Auf- und Abwärtstrends der Billboard Hot 100, bleibt jedoch durchgängig mit einem deutlichen negativen Abstand zurück. Dies deutet darauf hin, dass die Informationsdichte und Textkomplexität in Country-Songs zwar den allgemeinen Trends der Billboard Hot 100 folgen, aber deutlich weniger ausgeprägt sind.</p>
<div id="cell-fig-shannon" class="cell" data-execution_count="30">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot Shannon</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>plot_estimator_plotly(<span class="st">'Shannon'</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-shannon" class="cell-output cell-output-display quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-shannon-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>                            <div id="3264fdaf-d146-4a57-862f-b8b1c47365f3" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("3264fdaf-d146-4a57-862f-b8b1c47365f3")) {                    Plotly.newPlot(                        "3264fdaf-d146-4a57-862f-b8b1c47365f3",                        [{"line":{"color":"black"},"mode":"lines+markers","name":"Hot 100","x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[5.874718530256536,5.8549936136205085,5.874718530256536,5.873552342747363,5.873552342747363,5.8549936136205085,5.873552342747363,5.8549936136205085,6.1441449835166795,6.133520728395491,6.0566513784078815,6.100263154777907,5.822145364989537,6.111940562652155,5.956508696282309,5.996858150234159,6.14598066585963,6.109563798594877,6.076869724395167,6.138785938765496,6.127316352184272,6.060554142737025,6.234250271390871,5.762439170191435,5.917878460845272,5.842256517247184,6.14385026322038,5.796321026735394,5.9124139910408715,5.990536238166169,5.963860701623258,5.879457124182893,6.035533296794427,6.013028046401268,5.944118140045141,5.850574838610371,5.879242028938412,6.076178304876766,5.990618212686709,5.9191213636058775,6.196281941904064,6.158869704763485,6.378104116834506,6.242110719535764,6.255203107826341,6.508305533306962,6.558255475760285,6.257851599159235,6.2850401858389215,6.256802659196446,6.296640747427275,6.396551010086553,6.3967130980380125,6.439226769321925,6.492262231570859,6.465898222625794,6.353691435561522,6.421084807589929,6.4244926118023855,6.413502151200866,6.471744261466216,6.280993419851002,6.298127145834267,6.4343002532177636,6.5234527980865815,6.444716242690248,6.701151559683398,6.6994196645768005,6.349749634716257,6.380551330296829,6.433479612442091,6.291766279916408,6.232840031559947,6.206088445595756],"type":"scatter"},{"mode":"lines+markers","name":"Country","x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[5.934824095810566,5.934824095810566,5.934824095810566,5.934824095810566,5.934824095810566,5.934824095810566,5.934824095810566,5.934824095810566,6.23414894318917,6.3267542799098555,6.196556177797086,6.365195875876881,7.070741836750952,6.5542889067291235,6.258197301162771,6.803712171105647,6.745058671127693,6.966003930904025,6.871065337981757,7.167037129690386,6.928720549549664,7.099930586747474,6.867200703547308,7.325189448040157,6.970718738074418,7.020602389313554,7.037832634331077,7.2734837268173,7.264281714804945,7.275942100280454,7.0135612824119455,7.044933271072048,6.768511750304792,6.786912941619581,6.784598667221625,6.553597049856832,6.632263892394228,6.629207961842992,6.91520740512995,6.553462522794002,6.272244179936857,6.396540780937241,6.362113612903397,6.245825488594588,6.214834190384744,6.183527297867734,6.071045470146816,6.0461277619378295,6.308425938202044,6.179466344520184,6.271400732610624,6.4349808991155735,6.354668106605697,6.431082702489449,6.403926052467411,6.342539478377284,6.447758301859809,6.3706174308605,6.367624823430982,6.363804547711286,6.274420837637574,6.146710624106983,6.224888999525948,6.321039840837556,6.332887344475071,6.240287225088324,6.642371505502922,6.306648341346621,6.290868311876087,6.379009329890049,6.3525608704987775,6.465760077835314,6.437857121535035,6.409268603155465],"type":"scatter"},{"mode":"lines+markers","name":"Pop","x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.9478343258059185,5.920545977010474,5.920545977010474,5.920545977010474,5.9703765771158706,5.920545977010474,5.822705772348435,5.91756961021004,5.829107203198117,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,5.920545977010474,6.241026836296876,6.055831049081593,5.925601905110598,6.237077290405861,6.060202880797967,6.260874714788524,6.191347451072705,5.902385538946871,6.130189485994913,6.294557850164409,6.315561871147018,6.504873154590995,6.367948676403314,6.419932834270775,6.228000677090468,6.373626444231916,6.232306972027375,6.292352644070308,6.312851619641015,6.238466696465945,6.183311133516032,6.180154575521813,6.491580309362482,6.261573369929883,6.594741841438782,6.518508195902416,6.433509048806442,6.4420423467565175,6.522100930806961,6.5014766776621515,6.071336487525334,6.332713895544698],"type":"scatter"},{"mode":"lines+markers","name":"R&b","x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[5.948244266061273,5.948244266061273,5.948244266061273,5.948244266061273,5.948244266061273,5.948244266061273,5.948244266061273,5.966975274048947,5.8582576280573075,5.734461784616748,5.6579332054048095,6.27803799573625,6.034286170944936,6.057477758636402,5.811887517339359,6.524699517760114,6.38574339544737,6.1527091585234475,6.157619497854682,6.344576181141748,6.332108095728985,5.922828491058221,6.39511936041959,6.4248482849086175,6.186996144953047,5.97524308521142,6.222436227301617,6.48575307185351,5.9793851553066775,6.110698210018536,6.476625131172199,6.497496227900748,6.341199919118013,6.453976401963874,6.464915397547472,6.491436359531019,6.435532293808004,6.429103050475416,6.555773807314168,6.620040718733443,6.317674156434087,6.497470763343123,6.486748498945779,6.4900553689468845,6.504639817629775,6.672310365881032,6.790392224080903,6.600950361731961,6.5439663876435645,6.642152582633201,6.626843802122103,6.761909774796998,6.790197298978268,6.761564640149813,6.745053024452331,6.604319147698823,6.654920911320669,6.607865396467116,6.463701750504711,6.571353890688984,6.581250163507636,6.594250631322388,6.794662813523997,7.114072316404806,6.903413641334803,6.818690424171791,6.887888526650752,7.25202610687409,6.616933964323162,6.88203400407688,7.119695019832965,7.012739965153241,6.643946441163605,6.918609147789516],"type":"scatter"},{"mode":"lines+markers","name":"Rap","x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[7.002621356227267,7.002621356227267,7.002621356227267,7.002621356227267,7.002621356227267,7.002621356227267,7.002621356227267,7.002621356227267,6.985397280944591,7.002621356227267,7.002621356227267,7.002621356227267,7.002621356227267,6.985397280944591,7.002621356227267,7.002621356227267,7.002621356227267,7.002621356227267,7.002621356227267,7.002621356227267,7.002621356227267,7.002621356227267,7.002621356227267,7.002621356227267,7.002621356227267,7.002621356227267,7.002621356227267,6.985397280944591,7.002621356227267,7.002621356227267,7.002621356227267,7.002621356227267,7.002621356227267,7.002621356227267,7.002621356227267,7.002621356227267,7.002621356227267,7.032839451948879,7.032839451948879,7.2184433877054675,6.988462397365597,7.073311993810441,7.072743227485969,7.007524125655882,7.149352253854972,7.260093735666276,7.39229491571545,7.357711676530544,7.377641920196248,7.582406806664476,7.420133406371611,7.283095864414577,6.937192036104043,7.192988776540566,6.855641744685314,6.949958773679571,6.799268803432255,6.843853760111156,6.93973322886301,6.813208502933296,7.109963865477522,6.85151189623312,6.924176890600642,7.060097462132282,6.949068806502949,6.996853493925609,7.136444577495418,7.326053724080402,6.62339432756797,6.841114599734953,7.240982487463552,7.169639067503883,6.950325367176029,7.065480168160093],"type":"scatter"},{"mode":"lines+markers","name":"Rock","x":[1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.0207468276198055,6.048045690308869,6.058388505773958,5.976441358835529,6.040971606057558,6.063214734187894,6.09541089457727,6.022361645664557,6.090466936613138,6.017513352571853,6.021917408878632,6.120655392506726,6.398493616718301,6.092260197298675,6.039881767048035,6.337994065662803],"type":"scatter"}],                        {"hovermode":"closest","template":{"data":{"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"title":{"text":"Shannon Average by Year for All Genres"},"xaxis":{"title":{"text":"Year"}},"yaxis":{"title":{"text":"Shannon Average"}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('3264fdaf-d146-4a57-862f-b8b1c47365f3');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-shannon-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;6: Die Grafik zeigt die Entwicklung der Gleichmäßigkeit der Wortverteilung (Shannon-Index) über die Jahre hinweg für die Billboard Hot 100 Charts im Vergleich zu verschiedenen Musikgenres (Pop, Rock, Rap, R&amp;B und Country). Sie veranschaulicht, wie sich die Verteilung der Wörter in den Songtexten von 1950 bis 2023 entwickelt hat.
</figcaption>
</figure>
</div>
</div>
<p>Seit etwa 1990 folgt der Shannon-Index von Pop dem Verlauf der Billboard Hot 100, bleibt jedoch stets leicht darunter, was auf eine geringere Wortvielfalt in Pop-Songs im Vergleich zur allgemeinen Musikindustrie hindeutet. Ab 2003 nähert sich der Index stärker an den der Hot 100 an. Im Jahr 2023 fällt der Shannon-Index sowohl für Pop als auch für die Hot 100, wobei der Rückgang bei Pop deutlicher ausfällt.</p>
<p>Rock lag über viele Jahre hinweg deutlich unter den Billboard Hot 100, verzeichnete jedoch 2023 einen Anstieg, bei dem der Shannon-Index sowohl Pop als auch die Hot 100 übertraf. Dies deutet auf eine gestiegene Wortvielfalt in Rock-Songs hin, die nun die allgemeinen Charts übertroffen hat.</p>
<p>Rap behielt über viele Jahre einen größeren Abstand zu den Hot 100 bei, wobei der Shannon-Index durchgängig höher war. Auch 2023 zeigt Rap einen steigenden Trend, was auf eine zunehmende Wortvielfalt hindeutet und möglicherweise positiv auf die Hot 100 gewirkt hat. R&amp;B hingegen spiegelte lange Zeit die Trends der Hot 100 wider, was auf eine enge Verbindung zwischen R&amp;B und den allgemeinen Entwicklungen hinweist. Ab 1980 begann sich jedoch ein Abstand aufzubauen, der bis 1990 andauerte. Danach verlief der R&amp;B-Index wieder parallel zu den Hot 100, diesmal jedoch mit einem positiven Abstand.</p>
<p>Country folgte zunächst nahezu deckungsgleich den Hot 100, entfernte sich jedoch ab den 1970er Jahren deutlich. Ab 1990 näherten sich beide erneut an, und Country spiegelte danach fast vollständig die Trends der Hot 100 wider, was darauf hindeutet, dass die allgemeine Musikindustrie einen stärkeren Einfluss auf die Entwicklung von Country hatte als umgekehrt.</p>
</section>
</section>
<section id="fazit" class="level1">
<h1>Fazit</h1>
<p>Zusammenfassend lässt sich sagen, dass die Hypothese, die von einer Verschlechterung der Songtextkomplexität ausgeht, nicht bestätigt werden kann. Zwar hat die lexikalische Vielfalt (gemessen durch die TTR) im Laufe der Jahrzehnte abgenommen, was darauf hinweist, dass sich die Songtexte durch eine stärkere Wiederholung von Wörtern und eine eingeschränkte sprachliche Vielfalt auszeichnen. Allerdings zeigt der Shannon-Index, dass die Verteilung der Wörter gleichmäßiger geworden ist. Dies bedeutet, dass die wiederholten Wörter besser im Text verteilt sind, was auf eine gleichmäßigere Verteilung der Begriffe hindeutet. Parallel dazu hat die strukturelle Komplexität der Texte (gemessen durch den ARI) erheblich zugenommen. Die Songtexte sind über die Jahre hinweg insgesamt komplexer geworden.</p>
<p>Insgesamt lässt sich festhalten, dass die Songtexte zwar in Bezug auf die lexikalische Vielfalt etwas verloren haben, jedoch an Wortverteilung und struktureller Komplexität gewonnen haben. Die Qualität der Songtexte hat sich in Bezug auf ihre Komplexität somit nicht verschlechtert.</p>
<p>Im nächsten Schritt wird diese Analyse auf genrespezifische Entwicklungen ausgeweitet, um zu untersuchen, ob bestimmte Musikrichtungen ähnliche oder abweichende Trends aufweisen.</p>
<p>Die genrespezifische Analyse zeigt deutliche Unterschiede: Pop hat mit seiner geringeren lexikalischen Vielfalt die negative Tendenz der Billboard Hot 100 verstärkt. Rap und R&amp;B hingegen weisen eine höhere Vielfalt und Komplexität auf und haben somit positiv auf die allgemeinen Trends eingewirkt. Rock, obwohl es sich in den letzten Jahren positiv entwickelt hat, zeigt aktuell wenig Einfluss auf die Billboard Hot 100. Country folgt zwar den Billboard-Trends, bleibt jedoch durchgängig weniger komplex.</p>
<p>Diese genrespezifischen Entwicklungen verdeutlichen, dass einige Genres, wie Rap und R&amp;B, die Qualität der Songtexte positiv beeinflusst haben, während andere, wie Pop und Country, eher zur Vereinfachung beigetragen haben.</p>
<section id="einschränkungen" class="level2">
<h2 class="anchored" data-anchor-id="einschränkungen">Einschränkungen</h2>
<p>Eine der wichtigsten Einschränkungen dieser Arbeit lag bei den verfügbaren Daten. Die Informationen zu den einzelnen Genres waren nicht immer vollständig verfügbar, besonders in den frühen Jahrzehnten, als einige Musikrichtungen noch nicht so stark ausgeprägt waren oder schlecht dokumentiert wurden. Dadurch war es schwer, genau zu beurteilen, wie viel Einfluss die Genres in bestimmten Jahrzehnten hatten.</p>
<p>Gerade für Genres, die erst später populär wurden, fehlen in manchen Zeiträumen verlässliche Daten, was die Aussagekraft der Analyse in diesen Jahren beeinträchtigen könnte. Diese Unvollständigkeit sollte bei der Interpretation der genrespezifischen Ergebnisse immer mit bedacht werden.</p>
</section>
<section id="zukünftige-forschung" class="level2">
<h2 class="anchored" data-anchor-id="zukünftige-forschung">Zukünftige Forschung</h2>
<p>Eine vielversprechende Erweiterung der Forschung wäre die Analyse der Komplexität von Songtexten in anderen Sprachen, insbesondere in der deutschen Musik. Durch die Untersuchung, ob sich die lyrische Komplexität in deutschsprachigen Songs ähnlich wie in englischsprachigen Songs entwickelt hat, könnten wertvolle Einblicke in sprachliche und kulturelle Unterschiede in der Musik gewonnen werden.</p>
<p>Darüber hinaus könnte der Einfluss technologischer Entwicklungen, wie Streaming-Plattformen, AI-generierter Musik oder sozialer Medien, auf die lyrische Komplexität weiter erforscht werden. Diese Innovationen haben die Art und Weise, wie Musik produziert und konsumiert wird, grundlegend verändert und könnten die Vielfalt und Komplexität der Songtexte signifikant beeinflusst haben.</p>
</section>
</section>
<section id="referenzen" class="level1 unnumbered">


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">Referenzen</h2><div id="refs" class="references csl-bib-body" data-entry-spacing="0" role="list">
<div id="ref-repo" class="csl-entry" role="listitem">
<div class="csl-left-margin">1. </div><div class="csl-right-inline">L. Reinhardt, <a href="https://github.com/TheGim/LyricComplexity">LyricComplexity: https://github.com/TheGim/LyricComplexity</a>. <em>GitHub repository</em>, (2024).</div>
</div>
<div id="ref-songlyrics" class="csl-entry" role="listitem">
<div class="csl-left-margin">2. </div><div class="csl-right-inline">M. E. W. Varnum, J. A. Krems, C. Morris, A. S. Wormley, &amp; I. Grossmann, Why are song lyrics becoming simpler? a time series analysis of lyrical complexity in six decades of American popular music. <em>PLoS ONE</em>, <strong>16</strong> (2021). https://doi.org/<a href="https://doi.org/10.1371/journal.pone.0244576">10.1371/journal.pone.0244576</a>.</div>
</div>
<div id="ref-concreteness" class="csl-entry" role="listitem">
<div class="csl-left-margin">3. </div><div class="csl-right-inline">K. Choi &amp; J. S. Downie, A Trend Analysis on Concreteness of Popular Song Lyrics. <em>Proceedings of the 6th International Conference on Digital Libraries for Musicology</em>, (2019). https://doi.org/<a href="https://doi.org/10.1145/3358664.3358673">10.1145/3358664.3358673</a>.</div>
</div>
<div id="ref-billboard" class="csl-entry" role="listitem">
<div class="csl-left-margin">4. </div><div class="csl-right-inline"><a href="https://www.billboard.com/">Billboard: https://www.billboard.com/</a>. <em>Website</em>, (Eingesehen am 14.08.2024).</div>
</div>
<div id="ref-genius" class="csl-entry" role="listitem">
<div class="csl-left-margin">5. </div><div class="csl-right-inline"><a href="https://genius.com/">Genius: https://genius.com/</a>. <em>Website</em>, (Eingesehen am 18.08.2024).</div>
</div>
<div id="ref-musicbrainz" class="csl-entry" role="listitem">
<div class="csl-left-margin">6. </div><div class="csl-right-inline"><a href="https://musicbrainz.org/">MusicBrainz: https://musicbrainz.org/</a>. <em>Website</em>, (Eingesehen am 20.08.2024).</div>
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>